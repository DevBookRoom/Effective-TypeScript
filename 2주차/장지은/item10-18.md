## item10. ê°ì²´ ë˜í¼ íƒ€ì… í”¼í•˜ê¸°

### ê¸°ë³¸í˜•ê³¼ ê°ì²´ë˜í¼

```tsx
'primitive'.charAt(3) // "m"
```

JSëŠ” ì¼ê³±ê°€ì§€ ê¸°ë³¸í˜•ì„ ê°€ì§„ë‹¤ (string, number, boolean, null, undefined, symbol, bigint)

ê¸°ë³¸í˜•ë“¤ì€ ë©”ì„œë“œë¥¼ ê°€ì§€ì§€ ì•Šì§€ë§Œ, .charAtì„ ì‚¬ìš© ê°€ëŠ¥í•œ ì´ìœ ëŠ” JSê°€ ê¸°ë³¸í˜•ì„ **String(ê°ì²´ë˜í¼)** ë¡œ ë˜í•‘í–ˆê¸° ë•Œë¬¸

string ì™¸ì˜ ë‹¤ë¥¸ ê¸°ë³¸í˜•ë“¤ë„ ë™ì¼í•˜ê²Œ ë˜í¼íƒ€ì…ì´ ì¡´ì¬í•œë‹¤

- string â†’ String
- number â†’ Number
- boolean â†’ Boolean
- symbol â†’ Symbol
- bigint â†’ BigInt

### íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ê¸°ë³¸í˜•/ê°ì²´ë˜í¼ íƒ€ì… ëª¨ë¸ë§

TSëŠ” ê¸°ë³¸í˜•ê³¼ ê°ì²´ ë˜í¼íƒ€ì…ì„ ë³„ë„ë¡œ ëª¨ë¸ë§í•œë‹¤.

```tsx
function isGreeting(phrase: String) {
  return ['hello', 'good day'].includes(phrase); // Argument of type 'String' is not assignable to parameter of type 'string'.
}
```

stringì€ Stringì— í• ë‹¹í•  ìˆ˜ ìˆì§€ë§Œ, ë°˜ëŒ€ëŠ” ë¶ˆê°€ëŠ¥í•˜ë‹¤. ë”°ë¼ì„œ stringì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ” ë©”ì„œë“œì— Stringê°ì²´ë¥¼ ì „ë‹¬í•˜ë©´ ë¬¸ì œê°€ ë°œìƒí•œë‹¤. ë”°ë¼ì„œ TSì—ì„  ê¸°ë³¸í˜•íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ë‚«ë‹¤

## item11. ì‰ì—¬ ì†ì„± ì²´í¬ì˜ í•œê³„ ì¸ì§€í•˜ê¸°

### ê°ì²´ ë¦¬í„°ëŸ´ì˜ ì‰ì—¬ì†ì„± ì²´í¬

íƒ€ì…ì´ ëª…ì‹œëœ ë³€ìˆ˜ì— ê°ì²´ ë¦¬í„°ëŸ´ì„ í• ë‹¹í•  ë•Œ  TSëŠ” ì‰ì—¬ ì†ì„±ì´ ì—†ëŠ”ì§€ë¥¼ í™•ì¸í•œë‹¤

```tsx
interface Room {
  numDorrs: number;
  ceilingHeightFt: number;
};

// 1. ê°ì²´ ë¦¬í„°ëŸ´
const r: Room = {
  numDorrs: 1,
  ceilingHeightFt: 10,
  elephant: 'elephant'
}; // âŒì˜¤ë¥˜ - Object literal may only specify known properties, and 'elephant' does not exist in type 'Room'.

// 2. ì„ì‹œ ë³€ìˆ˜ ì‚¬ìš© (ê°ì²´ë¦¬í„°ëŸ´X)
const obj = {
  numDorrs: 1,
  ceilingHeightFt: 10,
  elephant: 'elephant'
};
const obj2: Room = obj; // âœ…ì •ìƒ - êµ¬ì¡°ì  íƒ€ì´í•‘ ê´€ì ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•ŠìŒ
const o = {numDorrs:1, ceilingHeightFt:10, elephant: 'elephant'} as Room; // âœ…ì •ìƒ - íƒ€ì… ë‹¨ì–¸ë¬¸ì„ ì‚¬ìš©í•˜ë©´ ì‰ì—¬ì†ì„±ì²´í¬X
```

TSì—ì„œ ì‰ì—¬ì†ì„±ì²´í¬ì™€ í• ë‹¹ê°€ëŠ¥ ê²€ì‚¬ëŠ” ë³„ë„ì˜ ê³¼ì •ì´ë‹¤. 

ì²«ë²ˆì§¸ ê°ì²´ ë¦¬í„°ëŸ´ì˜ ì¼€ì´ìŠ¤ì—ì„  **ì‰ì—¬ì†ì„± ì²´í¬**ê°€ ìˆ˜í–‰ë˜ì—ˆë‹¤. 
í•˜ì§€ë§Œ ê°ì²´ë¦¬í„°ëŸ´ì´ ì•„ë‹Œ ë‘ë²ˆì§¸ ì¼€ì´ìŠ¤ì—ì„  ì‰ì—¬ì†ì„± ì²´í¬ê°€ ì ìš©ë˜ì§€ ì•Šê³ , êµ¬ì¡°ì  íƒ€ì´í•‘ ê´€ì ì—ì„œ í†µê³¼ëœë‹¤.
ë˜ íƒ€ì…ë‹¨ì–¸ë¬¸ì„ ì‚¬ìš©í• ë•Œë„ ì‰ì—¬ì†ì„±ì²´í¬ëŠ” ì ìš©ë˜ì§€ ì•ŠìŒ

### í•¨ìˆ˜ ë§¤ê°œë³€ìˆ˜ì˜ ì‰ì—¬ì†ì„± ì²´í¬

```tsx
interface Options {
  title: string;
  darkMode?: boolean;
}
function createWindow(options: Options) {
  if(options.darkMode) {
    // ì–´ë‘ìš´ ëª¨ë“œ ì²˜ë¦¬
  }
}

// í•¨ìˆ˜ ë§¤ê°œë³€ìˆ˜
createWindow({ title: 'My App', darkmode: true }); // âŒì˜¤ë¥˜ - Object literal may only specify known properties, but 'darkmode' does not exist in type 'Options'. Did you mean to write 'darkMode'?ts(2561)
```

í•¨ìˆ˜ ë§¤ê°œë³€ìˆ˜ì—ì„œë„ ê°ì²´ë¦¬í„°ëŸ´ì²˜ëŸ¼ ì‰ì—¬ì†ì„± ì²´í¬ ì§„í–‰í•¨

### ì•½í•œ íƒ€ì…ì—ì„œì˜ ê³µí†µì†ì„± ì²´í¬

```tsx
interface LineChartOptions {
  logscale? :boolean;
  areaChart?: boolean;
} // week type - ì„ íƒì  ì†ì„±ë§Œ ê°€ì§
const opts = {logScale: true};
const o: LineChartOptions = opts; // âŒì˜¤ë¥˜ - Type '{ logScale: boolean; }' has no properties in common with type 'LineChartOptions'.ts(2559)
```

ì•½í•œ íƒ€ì…ì´ë€, ì„ íƒì  ì†ì„±ë§Œì„ ê°€ì§€ëŠ” íƒ€ì…ì„ ë§í•œë‹¤. êµ¬ì¡°ì  íƒ€ì´í•‘ ê´€ì ì—ì„  ëª¨ë˜ ì†ì„±ì´ ì„ íƒì ì´ë¼ë©´ ëª¨ë“  ê°ì²´ë¥¼ í¬í•¨í•  ìˆ˜ ìˆë‹¤.

ì´ëŸ° ì•½í•œíƒ€ì…ì—ì„  **ê³µí†µëœ ì†ì„±ì´ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë³„ë„ì˜ ì²´í¬**ë¥¼ ìˆ˜í–‰í•œë‹¤. ì´ëŠ” ì•½í•œ íƒ€ì…ê³¼ ê´€ë ¨ëœ í• ë‹¹ë¬¸ë§ˆë‹¤ ìˆ˜í–‰ëœë‹¤.

## item12. í•¨ìˆ˜ í‘œí˜„ì‹ì— íƒ€ì… ì ìš©í•˜ê¸°

### í•¨ìˆ˜ ë¬¸ì¥ê³¼ í•¨ìˆ˜ í‘œí˜„ì‹

JS & TSëŠ” í•¨ìˆ˜ ë¬¸ì¥(satatement)ì™€ í•¨ìˆ˜ í‘œí˜„ì‹(expression)ì„ ë‹¤ë¥´ê²Œ ì¸ì‹í•œë‹¤

```tsx
function rollDice1(slides: number) : number { return Math.ceil(Math.random() * slides);} // í•¨ìˆ˜ ë¬¸ì¥
const rollDice2 = function(slides: number) : number { return Math.ceil(Math.random() * slides);} // í•¨ìˆ˜ í‘œí˜„ì‹
const rollDice3 = (slides: number): number => { return Math.ceil(Math.random() * slides);} // í•¨ìˆ˜ í‘œí˜„ì‹ - í™”ì‚´í‘œ í•¨ìˆ˜

// í•¨ìˆ˜ë¥¼ typeìœ¼ë¡œ ì„ ì–¸
type DiceRollFn = (slides: number) => number;
const rollDice: DiceRollFn = (slides) => Math.ceil(Math.random() * slides); // ğŸ‘ slidesê°€ numberë¡œ ì¸ì‹ë¨
```

í•¨ìˆ˜ë§¤ê°œë³€ìˆ˜ & ë°˜í™˜ê°’ê¹Œì§€ íƒ€ì…ìœ¼ë¡œ ì„ ì–¸í•´ë‘ë©´ ì¬ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì—ã…” TSì—ì„  í•¨ìˆ˜í‘œí˜„ì‹ì„ ì“°ëŠ”ê²Œ ë” ìœ ë¦¬í•˜ë‹¤. 

### ë‹¤ë¥¸ í•¨ìˆ˜ì˜ ì‹œê·¸ë‹ˆì²˜ ì°¸ì¡°í•˜ê¸°

ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ê³µí†µí•¨ìˆ˜ì‹œê·¸ë‹ˆì²˜ë¥¼ íƒ€ì…ìœ¼ë¡œ ì œê³µí•˜ê¸°ë„ í•œë‹¤. (ex: mouseEventHandler - ì´ë²¤íŠ¸í•¸ë“¤ëŸ¬ í•¨ìˆ˜ ì „ì²´ì— ì ìš© ê°€ëŠ¥)

ì‹œê·¸ë‹ˆì²˜ê°€ ì¼ì¹˜í•˜ëŠ” ë‹¤ë¥¸ í•¨ìˆ˜ê°€ ìˆìœ¼ë©´ í•¨ìˆ˜í‘œí˜„ì‹ì— í•´ë‹¹ ì‹œê·¸ë‹ˆì²˜ íƒ€ì…ì„ ì ìš©í•˜ëŠ”ê²Œ ì¢‹ë‹¤

```tsx
// ë¸Œë¼ìš°ì €ì˜ fetchì˜ íƒ€ì…ì„ ì–¸ (lib.com.d.ts)
declare function fetch(input: RequestInfo, init?: RequestInit): Promise<Response>;

// typeof ì—°ì‚°ìë¡œ fetchì˜ ì‹œê·¸ë‹ˆì²˜ ì°¸ì¡°
const checkedFetch: typeof fetch = async (input, init) => {
  const response = await fetch(input, init);
  if(!response.ok) {
    throw new Error('Network response was not ok');
  }
  return response;
}
```

## item13. íƒ€ì…ê³¼ ì¸í„°í˜ì´ìŠ¤ì˜ ì°¨ì´ì 

### ëª…ëª…ëœ íƒ€ì…ì„ ì •ì˜í•˜ëŠ” ë°©ë²•

```tsx
// 1. Type
type Tstate = {
  name: string;
  capital: string;
}
// 2. Interface
interface Istate {
  name: string;
  capital: string;
}
```

TSì—ì„œ íƒ€ì…ì„ ì •ì˜í•˜ëŠ” ë°©ë²•ì€ íƒ€ì… & ì¸í„°í˜ì´ìŠ¤ ë‘ê°€ì§€ê°€ ìˆë‹¤. 

### íƒ€ì…ê³¼ ì¸í„°í˜ì´ìŠ¤ì˜ ê³µí†µì 

- ì¶”ê°€ ì†ì„±ê³¼ í•¨ê»˜ í• ë‹¹í•œë‹¤ë©´, ë™ì¼í•œ ì˜¤ë¥˜ê°€ ë°œìƒí•¨
- ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ ì‚¬ìš© ê°€ëŠ¥
- ì œë„¤ë¦­ ì‚¬ìš© ê°€ëŠ¥
- ì¸í„°í˜ì´ìŠ¤ëŠ” íƒ€ì…ì„ í™•ì¥í•  ìˆ˜ ìˆê³ , íƒ€ì…ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¥í•  ìˆ˜ ìˆë‹¤.
    - â—ï¸ì¸í„°í˜ì´ìŠ¤ëŠ” ìœ ë‹ˆì˜¨íƒ€ì…ê°™ì€ ë³µì¡í•œ íƒ€ì…ì€ í™•ì¥í•˜ì§€ ëª»í•¨
- í´ë˜ìŠ¤ë¥¼ êµ¬í˜„(implements)í•  ë• íƒ€ì…ê³¼ ì¸í„°í˜ì´ìŠ¤ ë‘˜ë‹¤ ì‚¬ìš© ê°€ëŠ¥

### íƒ€ì…ê³¼ ì¸í„°í˜ì´ìŠ¤ì˜ ì°¨ì´ì 

- ìœ ë‹ˆì˜¨ íƒ€ì…ì€ ìˆì§€ë§Œ, ìœ ë‹ˆì˜¨ ì¸í„°í˜ì´ìŠ¤ëŠ” ì—†ë‹¤.
    
    ```tsx
    type Input = { /** */}
    type Output = { /** */}
    interface VariableMap { 
      [name: string] : Input | Output;
    }
    
    // ìœ ë‹ˆì˜¨ íƒ€ì…ì— name ì†ì„±ì„ ë¶™ì¸ íƒ€ì… -> Interfaceë¡œ í‘œí˜„ ë¶ˆê°€ëŠ¥
    type NamedVariable = (Input | Output) & {name: string};
    ```
    
- ì¸í„°í˜ì´ìŠ¤ëŠ” ë³´ê°•(augment)ì´ ê°€ëŠ¥í•˜ë‹¤.
    
    ```tsx
    interface IState {
      name: string;
      capital: string;
    }
    // âœ… ì„ ì–¸ ë³‘í•© (ì†ì„± í™•ì¥)
    interface IState {
      population: number;
    } 
    const wyoming: IState = {
      name: 'Wyoming',
      capital: 'Cheyenne',
      population: 500000,
    }
    
    ```
    
    ì¸í„°í˜ì´ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ì´ **ì„ ì–¸ ë³‘í•© (declaration merging)**ì„ í†µí•´ ì†ì„±ì„ í™•ì¥í•  ìˆ˜ ìˆë‹¤. 
    
    ì‹¤ì œë¡œ TSëŠ” JSì˜ í‘œì¤€ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì—¬ëŸ¬ íƒ€ì…ë“¤ì„ ëª¨ì•„ ë³‘í•©í•œë‹¤. tsconfigì˜ libëª©ë¡ì— ES2015ë¥¼ ì¶”ê°€í•˜ë©´, *lib.es5.d.ts*ì˜ Array ì¸í„°í˜ì´ìŠ¤ì— *lib.es2015.d.ts*ì˜ Array ì¸í„°í˜ì´ìŠ¤ë¥¼ ë³‘í•©í•œë‹¤. 
    

### íƒ€ì…ê³¼ ì¸í„°í˜ì´ìŠ¤, ë¬´ì—‡ì„ ì‚¬ìš©í•˜ëŠ”ê²Œ ì¢‹ì„ê¹Œ?

ë³µì¡í•œ íƒ€ì…ì´ë¼ë©´ typeë³„ì¹­ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. í•˜ì§€ë§Œ ê°„ë‹¨í•œ ê°ì²´ íƒ€ì…ì´ë¼ë©´, interfaceì˜ ì¼ê´€ì„±ê³¼ ë³´ê°•ì˜ ê´€ì ì„ ê³ ë ¤í•´ë´ì•¼í•œë‹¤.

## item14. íƒ€ì… ì—°ì‚°ê³¼ ì œë„ˆë¦­ ì‚¬ìš©ìœ¼ë¡œ ë°˜ë³µ ì¤„ì´ê¸°

### íƒ€ì…ì— ì´ë¦„ ë¶™ì´ê¸°

íƒ€ì…ì—ì„œë„ ë°˜ë³µëœ ì½”ë“œë¥¼ ì œê±°í•  í•„ìš”ê°€ ìˆë‹¤. 

```tsx
function distance(a:{x:number, y:number}, b:{x:number, y:number}) { /** */}

interface Point2D { x:number, y:number }
function distance(a:Point2D, b:Point2D)
```

ë‹¤ìŒê³¼ ê°™ì´ íƒ€ì…ì— ì´ë¦„ì„ ë¶™ì„ìœ¼ë¡œì„œ ë°˜ë³µì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤. 

### ì¸í„°í˜ì´ìŠ¤ í™•ì¥

```tsx
interface Person { firstName: string; lastName: string; };

interface PersonWithBirthday extends Person {birth: Date}; // ğŸ‘ Perosn í™•ì¥
interface PersonWithBirthday2 {
  firstName: string; 
  lastName: string;
  birth: Date;
} // ğŸ‘ ì½”ë“œ ì¤‘ë³µ ë°œìƒ
```

ì¸í„°í˜ì´ìŠ¤ í™•ì¥ì„ í†µí•´ ì½”ë“œ ë°˜ë³µì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤. ë§Œì•½ ë‘ ì¸í„°í˜ì´ìŠ¤ê°€ ë¶€ë¶„ì§‘í•©ì„ ê³µìœ í•œë‹¤ë©´ ê³µí†µí•„ë“œë§Œ ê³¨ë¼ì„œ ê¸°ë°˜ í´ë˜ìŠ¤ë¡œ ê³¨ë¼ë‚¼ ìˆ˜ ìˆë‹¤. 

### ë§¤í•‘ëœ íƒ€ì… (Pick)

```tsx
interface State {
  userId: string;
  pageTitle: string;
  recentFiles: string;
  pageContents: string;
}

// State ì¸ë±ì‹±í•˜ì—¬ ì¤‘ë³µ ì œê±°
interface TopNavState2 {
  userId: State['userId'];
  pageTitle: State['pageTitle'];
  recentFiles: State['recentFiles']
}

// ğŸ‘ ë§¤í•‘ëœ íƒ€ì… ì‚¬ìš©í•˜ê¸°
type TopNavState3 = {
  [k in 'userId' | 'pageTitle' | 'recentFiles'] : State[k];
}
```

Stateì˜ ë¶€ë¶„ì§‘í•©ìœ¼ë¡œ TopNavStateë¥¼ ì •ì˜í•´ì•¼í•˜ëŠ” ìƒí™©ì—ì„œ , ë‹¤ìŒê³¼ ê°™ì´ Stateë¥¼ ì¸ë±ì‹±í•˜ê±°ë‚˜, ë§¤í•‘ëœ íƒ€ì…ì„ ì‚¬ìš©í•˜ë©´ ì½”ë“œì˜ ë°˜ë³µì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

```tsx
type Pick<T, K> = {[k in K] : T[k] }

// ğŸ‘ğŸ‘ Pick ì‚¬ìš©
type TopNavState = Pick<State, 'userId' | 'pageTitle' | 'recentFiles'>
```

í•´ë‹¹ íŒ¨í„´ì€ í‘œì¤€ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œë„ Pickìœ¼ë¡œ ì •ì˜ë˜ì–´ ìˆë‹¤. Pickì„ í™œìš©í•´ì„œ ë™ì¼í•œ ì½”ë“œ ì‘ì„±ì´ ê°€ëŠ¥í•˜ë‹¤.

### ê° ì†ì„±ì„ ì„ íƒì ìœ¼ë¡œ ë§Œë“¤ê¸° (Partial)

```tsx
interface Options { width: number; heigth: number; }

interface OptionsUpdate2 { width?: number; heigth?: number; } // ğŸ‘ ì„ íƒì  ì†ì„± ì½”ë“œì¤‘ë³µ
type OptionsUpdate3 = {[k in keyof Options]?: Options[k] } // ğŸ‘ ë§¤í•‘ëœ íƒ€ì…ìœ¼ë¡œ ì¤‘ë³µ ì œê±°
type OptionsUpdate = Partial<Options>; // ğŸ‘ğŸ‘ í‘œì¤€ë¼ì´ë¸ŒëŸ¬ë¦¬ Partial ì‚¬ìš©

```

ê° ì†ì„±ì„ ì„ íƒì ìœ¼ë¡œ ë§Œë“¤ê¸° ìœ„í•´ì„ , ë§¤í•‘ëœ íƒ€ì…ìœ¼ë¡œ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤. í•˜ì§€ë§Œ ì´ íŒ¨í„´ë„ ì¼ë°˜ì ì´ê¸°ì— í‘œì¤€ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ Partialì„ ì‚¬ìš©í•˜ì—¬ ì²˜ë¦¬ ê°€ëŠ¥í•˜ë‹¤. 

### ê°’ì˜ í˜•íƒœì— í•´ë‹¹í•˜ëŠ” íƒ€ì… ì •ì˜í•˜ê¸° (typeof ì—°ì‚°ì)

```tsx
const INIT_OPTIONS = { width:640, height:480 }
type Options = typeof INIT_OPTIONS;
```

typeofëŠ” JSëŸ°íƒ€ì„ì´ ì•„ë‹ˆë¼ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ë‹¨ê³„ì—ì„œ ì‹¤í–‰ëœë‹¤. 

## item15. ë™ì  ë°ì´í„°ì— ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ ì‚¬ìš©í•˜ê¸°

### ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ë€

```tsx
type Rocket = {[property: string]: string};
const rocket:Rocket = {
  name: 'Falcon',
  thrust: '4,940 kN'
}
```

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ì¸ë±ìŠ¤ì‹œê·¸ë‹ˆì²˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ìœ ì—°í•˜ê²Œ ë§¤í•‘ì„ í‘œí˜„í•  ìˆ˜ ìˆë‹¤. 

`[property: string]: string`ê°€ ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜

í•˜ì§€ë§Œ ìœ„ì™€ê°™ì€ ìƒí™©ì—ì„  ì˜ëª»ëœ í‚¤ë¥¼ í¬í•¨í•´ë„, í‚¤ê°€ ì—†ëŠ” {}í˜•íƒœì—¬ë„ í—ˆìš©ë˜ë©°, í‚¤ë§ˆë‹¤ ë‹¤ë¥¸ íƒ€ì…ì„ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤. ë˜ ìë™ì™„ì„±ë„ ì‚¬ìš©ì´ ì–´ë µë‹¤. ë”°ë¼ì„œ ìœ„ì™€ ê°™ì€ ì¼€ì´ìŠ¤ëŠ” ê·¸ëƒ¥ interfaceë¡œ í‘œí˜„í•˜ëŠ”ê²Œ ë” ë‚«ë‹¤. 

### ì •í™•í•œ íƒ€ì…ì„ ì •ì˜í•˜ëŠ” ë°©ë²•

```tsx
interface Row1 { [column:string]: number }; // ë„ˆë¬´ ê´‘ë²”ìœ„
interface Row2 {a: number; b?:number; c?:number; } // ìµœì„ 
type Row3 =  
  | {a: number}
  | {a: number; b:number;}
  | {a: number; b:number; c:number;} // ì •í™•í•˜ì§€ë§Œ ì‚¬ìš©í•˜ê¸° ë²ˆê±°ë¡œì›€
```

Row1ëŠ” ë„ˆë¬´ ê´‘ë²”ìœ„í•˜ê³ ,Â Row3ê°€ ê°€ì¥ ì •í™•í•˜ì§€ë§Œ ì‚¬ìš©í•˜ê¸° ë²ˆê±°ë¡­ë‹¤.

stringíƒ€ì…ì´ ë„ˆë¬´ ê´‘ë²”ìœ„í•˜ì—¬ ì¸ë±ìŠ¤ì‹œê·¸ë‹ˆì²˜ ì‚¬ìš©ì— ë¬¸ì œê°€ ìˆë‹¤ë©´ Recordë‚˜ ë§¤í•‘ëœ íƒ€ì…ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### Record

```tsx
type Vec3D = Record<'x' | 'y' | 'z', number>; // {x:number; y:number; z:number}
```

RecordëŠ” í‚¤ íƒ€ì…ì— ìœ ì—°ì„±ì„ ì œê³µí•˜ëŠ” ì œë„ˆë¦­íƒ€ì…ì´ë‹¤. íŠ¹íˆ stringì˜ ë¶€ë¶„ì§‘í•©ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë”°. 

### ë§¤í•‘ëœ íƒ€ì… ì‚¬ìš©

```tsx
type Vec3D =  {[k in 'x' | 'y' | 'z']: number;}
type ABC = {[k in 'a' | 'b' | 'c']: k extends 'b' ? string : number;} // {a:number; b:string; c:number}
```

ë§¤í•‘ëœ íƒ€ì…ì„ ì‚¬ìš©í•˜ë©´ í‚¤ë§ˆë‹¤ ë³„ë„ì˜ íƒ€ì…ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 

## item16. number ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ë³´ë‹¤ëŠ” Array, íŠœí”Œ, ArrayLikeë¥¼ ì‚¬ìš©í•˜ê¸°

### JSì˜ Objectì˜ key

JSì—ì„œ ê°ì²´ë€ í‚¤/ê°’ ìŒì˜ ëª¨ìŒì´ë‹¤. í‚¤ëŠ” ë³´í†µ ë¬¸ìì—´, ê°’ì€ ì–´ë–¤ê²ƒì´ë“  ë  ìˆ˜ ìˆë‹¤. 

ë§Œì•½ ë³µì¡í•œ ê°ì²´ë¥¼ í‚¤ë¡œ ì‚¬ìš©í•´ë„, í•´ë‹¹ í‚¤ê°’ì€ ë¬¸ìì—´ë¡œ ë°˜í™˜ëœë‹¤.

ë˜ ìˆ«ìëŠ” keyë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ìˆ«ìë¥¼ ì§€ì •í•´ë„ ë¬¸ìì—´ë¡œ ë°˜í™˜ëœë‹¤.

```tsx
// object key
let x = {}
x[[1,2,3]] = 2
console.log(x) // {'1,2,3': 2} - í‚¤ê°€ stringìœ¼ë¡œ ë°˜í™˜

// number key
{1:2, 3:4} // {'1':2, '3':4}
```

### ë°°ì—´ì—ì„œì˜ key

ë°°ì—´ì€ ê°ì²´ì´ì§€ë§Œ, ìˆ«ìì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤. í•´ë‹¹ ì¸ë±ìŠ¤ë“¤ì€ ë¬¸ìì—´ë¡œ ë³€í™˜ë˜ì–´ ì‚¬ìš©ë˜ëŠ” ê²ƒ

```tsx
x = [1,2,3]
x[0] // result: 1 - ìˆ«ì ì¸ë±ìŠ¤ë¡œ ì ‘ê·¼
x['0'] // result: 1 - ë¬¸ìì—´ ì¸ë±ìŠ¤ë¡œ ì ‘ê·¼í•´ë„ ê°™ì€ result
Object.keys(x) // ['0', '1', '2'] - í‚¤ê°€ ë¬¸ìì—´ë¡œ ì¶œë ¥

```

TSì—ì„  ìˆ«ìí‚¤ë¥¼ í—ˆìš©í•˜ê³ , ë¬¸ìì—´ í‚¤ì™€ëŠ” ë‹¤ë¥¸ ê²ƒìœ¼ë¡œ ì¸ì‹í•œë‹¤.

```tsx
// Arrayì— ëŒ€í•œ íƒ€ì…ì„ ì–¸ (lib.es5.d.ts)
interface Array<T> {
  [n:number]: T;
}

const xs = [1, 2, 3];
const x1 = xs['1']; // 
```

### ë°°ì—´ ìˆœíšŒí•˜ê¸°

```
const keys = Object.keys(xs);
for (const key in keys) {
  const x = xs[key]; // keyëŠ” string, stringì´ numberì— í• ë‹¹ë  ìˆ˜ ì—†ì§€ë§Œ, ë°°ì—´ì„ ìˆœíšŒí•˜ëŠ” ì½”ë“œì— ëŒ€í•œ í—ˆìš©
}
```

ë°°ì—´ì„ ìˆœíšŒí•˜ë ¤ë©´ í‚¤ê°’ìœ¼ë¡œ ìˆœíšŒ ê°€ëŠ¥í•˜ë‹¤. keyëŠ” string, stringì´ numberì— í• ë‹¹ë  ìˆ˜ ì—†ì§€ë§Œ, ë°°ì—´ì„ ìˆœíšŒí•˜ëŠ” ì½”ë“œì— ëŒ€í•œ í—ˆìš©

ì–´ë–¤ ê¸¸ì´ë¥¼ ê°€ì§€ëŠ” ë°°ì—´ê³¼ ë¹„ìŠ·í•œ í˜•íƒœì˜ íŠœí”Œì„ ì‚¬ìš©í•˜ê³ ì‹¶ë‹¤ë©´, TSì˜ ArrayLikeë¥¼ ì´ìš©í•  ìˆ˜ ìˆë‹¤. 

arrayLikeë¥¼ ì‚¬ìš©í•˜ë”ë¼ë„ í‚¤ê°’ì€ ì—¬ì „íˆ ë¬¸ìì—´ì´ë‹¤.

```tsx
function checkAccess<T>(xs: ArrayLike<T>, i: number): T {
  return xs[i];
}
```

## item17. ë³€ê²½ ê´€ë ¨ëœ ì˜¤ë¥˜ ë°©ì§€ë¥¼ ìœ„í•´ readonly ì‚¬ìš©í•˜ê¸°

### readonly

readonlyëŠ” ì–´ë–¤ ê°’ì„ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì„ ì–¸ì´ë‹¤. readonly ë°°ì—´ì€

- ë°°ì—´ ìš”ì†Œë¥¼ ì½ì„ ìˆ˜ ìˆì§€ë§Œ ì“¸ ìˆ˜ ì—†ë‹¤.
- ë°°ì—´ì˜ lengthë“±ì„ ì½ì„ ìˆœ ìˆì§€ë§Œ ë°”ê¿€ ìˆ˜ ì—†ë‹¤.
- ë°°ì—´ì„ ë³€ê²½í•˜ëŠ” popë“±ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ì—†ë‹¤.

```tsx
const a: number[] = [1, 2, 3];
const b: readonly number[] = a;
const c: number[] = b; // âŒError - The type 'readonly number[]' is 'readonly' and cannot be assigned to the mutable type 'number[]'.ts(4104)
```

number[]ëŠ” readonly number[]ë³´ë‹¤ ê¸°ëŠ¥ì´ ë§ê¸° ë•Œë¬¸ì—, readonly number[]ì˜ ì„œë¸Œíƒ€ì…ì´ë‹¤. ë”°ë¼ì„œ ë³€ê²½ ê°€ëŠ¥í•œ ë°°ì—´ì€ readonly ë°°ì—´ì— í• ë‹¹ ê°€ëŠ¥í•˜ì§€ë§Œ, ê·¸ ë°˜ëŒ€ëŠ” ë¶ˆê°€ëŠ¥í•˜ë‹¤. 

```tsx
function arraySum(arr: readonly number[]) {
  let sum = 0;
  for (const x of arr) {
    sum += x;
  }
  return sum;
}
```

ë§Œì•½ í•¨ìˆ˜ê°€ ë§¤ê°œë³€ìˆ˜ë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, readonlyë¡œ ì„ ì–¸í•˜ì—¬ ì˜ë„ì¹˜ ì•Šì€ ë³€ê²½ì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤. 

### readonlyì˜ ì–•ì€ ë™ì‘(shallow)

readonlyëŠ” ì–•ê²Œ ë™ì‘í•œë‹¤. ì¦‰ ì–´ë–¤ ê°ì²´ì˜ readonlyë°°ì—´ì´ë¼ê³  í•´ë„, ê·¸ ê°ì²´ ìì²´ëŠ” readonlyê°€ ì•„ë‹ˆë‹¤.

datesëŠ” readonlyì—¬ì„œ pushë“±ì˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ì§€ë§Œ, ê·¸ ë‚´ë¶€ì˜ dateê°ì²´ëŠ” ë³€ê²½ ê°€ëŠ¥í•˜ë‹¤.

```tsx
const dates: readonly Date[] = [new Date(), new Date()];
dates.push(new Date()); // âŒError - Property 'push' does not exist on type 'readonly Date[]'.ts(2339)
dates[0].setFullYear(2037); // âœ…OK
```

### Readonly ì œë„¤ë¦­

```tsx
interface Outer {
  inner: {
    x: number;
  };
}

const o: Readonly<Outer> = {
  inner: {x: 1},
};
o.inner = {x: 2}; // âŒError - Cannot assign to 'inner' because it is a read-only property.ts(2540)
o.inner.x = 2; // âœ…OK

```

Readonlyì œë„¤ë¦­ì—ë„ shallow ë™ì‘ì´ í•´ë‹¹ëœë‹¤. readonlyëŠ” innerì— ì ìš©ë˜ì§€ë§Œ, xì—” ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.

## item18. ë§¤í•‘ëœ íƒ€ì…ì„ ì‚¬ìš©í•˜ì—¬ ê°’ì„ ë™ê¸°í™”í•˜ê¸°

```tsx
interface ScatterProps {
  // The data
  xs: number[];
  ys: number[];
  
  // Display
  xRange: [number, number];
  yRange: [number, number];
  color: string;
  
  // Events
  onCLick: (x: number, y: number, index: number) => void;
}
```

ë¦¬ì•¡íŠ¸ì—ì„  props ì—…ë°ì´íŠ¸ ì‹œ uiê°€ ë¦¬ëœë”ë§ë˜ëŠ”ë°, uiì— ê´€ë ¨ ì—†ëŠ” onClickë“±ì˜ í•¨ìˆ˜ê°€ ì—…ë°ì´íŠ¸ ë  ë• ëœë”ë§ì„ ë‹¤ì‹œ í•  í•„ìš”ê°€ ì—†ë‹¤. ì´ëŸ° ì¢…ë¥˜ì˜ ìµœì í™” ë°©ë²•ì—” ì•„ë˜ì™€ê°™ì€ ë°©ì‹ì´ ìˆë‹¤.

### ì‹¤íŒ¨ì— ë‹«íŒ ì ‘ê·¼ë²• (ë³´ìˆ˜ì  ì ‘ê·¼ë²•)

```tsx
function shouldUpdate(
  oldProps: ScatterProps,
  newProps: ScatterProps
) {
  let k: keyof ScatterProps;
    for (k in oldProps) {
      if (oldProps[k] !== newProps[k]){
        if (k !== 'onClick') return true;
      }
    }
    return false;
}
```

ìƒˆë¡œìš´ ì†ì„±ì´ ì¶”ê°€ëœë‹¤ë©´, ê°’ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì°¨íŠ¸ë¥¼ ë‹¤ì‹œ ê·¸ë¦°ë‹¤. ì´ ë°©ì‹ì„ ì´ìš©í•˜ë©´ ì°¨íŠ¸ëŠ” ì •í™•í•˜ì§€ë§Œ, ë„ˆë¬´ ìì£¼ ë‹¤ì‹œ ê·¸ë ¤ì§€ëŠ” ì´ìŠˆê°€ ë°œìƒí•œë‹¤.

### ì‹¤íŒ¨ì— ì—´ë¦° ì ‘ê·¼ë²•

```tsx
function shouldUpdate(
  oldProps: ScatterProps,
  newProps: ScatterProps
) {
  return (
    oldProps.xs !== newProps.xs ||
    oldProps.ys !== newProps.us ||
    oldProps.xRange !== newProps.xRange ||
    oldProps.yRange !== newProps.yRange ||
    oldProps.color !== newProps.color
    // (no check for onClick)
  )
}
```

ì´ ë°©ì‹ì—ì„  ì°¨íŠ¸ë¥¼ ë¶ˆí•„ìš”í•˜ê²Œ ë‹¤ì‹œ ê·¸ë¦¬ì§€ ì•ŠëŠ”ë‹¤. í•˜ì§€ë§Œ ì‹¤ì œë¡œ ì°¨íŠ¸ë¥¼ ê·¸ë ¤ì•¼ í•  ë•Œì— ëˆ„ë½ë  ìˆ˜ ìˆë‹¤. 

### íƒ€ì…ì²´ì»¤ë¥¼ ì´ìš©í•´ ë§¤í•‘ëœ íƒ€ì…ê³¼ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ê¸°

```tsx
const REQUIRES_UPDATE: {[k in keyof ScatterProps]: boolean} = {
 xs: true,
 ys: true,
 xRange: true,
 yRange: true,
 color: true,
 onClick: false
 }

function shouldUpdate(
 oldProps: ScatterProps,
 newProps: ScatterProps,
 ) {
   let k: keyof ViewProps;
   for (k in oldProps){
     if(oldProps[k] !== newProps[k] && REQUIRES_UPDATE[k]){
       return true;
     }
   }
 }

```

`k in keyof ViewProps`ëŠ” íƒ€ì…ì²´ì»¤ì—ê²Œ REQUIRES_UPDATEê°€ ScatteredPropsì™€ ë™ì¼í•œ ì†ì„±ì„ ê°€ì ¸ì•¼í•œë‹¤ëŠ” ì •ë³´ë¥¼ ì¤€ë‹¤. ì´ëŸ° ë§¤í•‘ëœ íƒ€ì…ì€ í•œ ê°ì²´ê°€ ë˜ ë‹¤ë¥¸ ê°ì²´ì™€ ì •í™•íˆ ê°™ì€ ì†ì„±ì„ ê°€ì§€ê²Œ í•  ë•Œì— ì´ìƒì ì´ë‹¤. ì´ ë°©ì‹ì„ í†µí•´ TSê°€ ì½”ë“œì— ì œì•½ì„ ê°•ì œí•˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤.