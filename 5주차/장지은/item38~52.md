## Item38. anyíƒ€ì…ì€ ê°€ëŠ¥í•œ í•œ ì¢ì€ ë²”ìœ„ì—ì„œë§Œ ì‚¬ìš©í•˜ê¸°

```tsx
function f1() {
  const x: any = expressionReturningFoo(); // âŒ anyê°€ ë‹¤ë¥¸ ëª¨ë“  ì½”ë“œì— ì˜í–¥ì„ ì¤Œ
  processBar(x);
}

function f2() {
  const x = expressionReturningFoo();
  processBar(x as any); // âœ… anyê°€ processBar ì•ˆì—ì„œë§Œ ì˜í–¥ì„ ì¤Œ
}
```

aksdir xë¼ëŠ” ë³€ìˆ˜ê°€ ë™ì‹œì— Fooíƒ€ì…ê³¼ Bar íƒ€ì…ì— í• ë‹¹ ê°€ëŠ¥í•˜ë‹¤ë©´, í›„ìì˜ ë°©ì‹ì„ íƒí•´ì•¼ í•œë‹¤.

processBarì˜ ë§¤ê°œë³€ìˆ˜ì—ì„œë§Œ ì‚¬ìš©ëœ í‘œí˜„ì‹ì´ë¯€ë¡œ, ë‹¤ë¥¸ ì½”ë“œì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ”ë‹¤.

```tsx
function f1() {
  const x: any = expressionReturningFoo();
  // @ts-ignore
  processBar(x);
}
```

í˜¹ì€ @ts-ignoreë¥¼ ì‚¬ìš©í•˜ì—¬ í•´ë‹¹ ì£¼ì„ ë‹¤ìŒì¤„ì˜ ì˜¤ë¥˜ë¥¼ ë¬´ì‹œí•˜ë„ë¡ í•´ì•¼í•œë‹¤.

```tsx
const config: Config = {
  a: 1,
  b: 2,
  c: {
    key: "value", // ë§Œì•½ ì—¬ê¸°ì„œ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤ë©´??
  },
};

const config: Config = {
  a: 1,
  b: 2,
  c: {
    key: "value",
  },
} as any; // âŒ ê°ì²´ ì „ì²´ë¥¼ anyë¡œ ë‹¨ì–¸í•˜ë©´ ì•ˆë¨!

const config: Config = {
  a: 1,
  b: 2,
  c: {
    key: "value" as any, // âœ…ì—ëŸ¬ê°€ ë‚˜ëŠ” ì†ì„±ì—ì„œë§Œ any ì‚¬ìš©í•˜ê¸°
  },
};

```

ë˜ ê°ì²´ì˜ ì¼ë¶€ ì†ì„±ì—ì„œë§Œ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤ë©´, ê°ì²´ ì „ì²´ë¥¼ anyë¡œ í•˜ì§€ ë§ê³  ìµœì†Œí•œì˜ ë²”ìœ„ì—ì„œë§Œ anyë¥¼ ì‚¬ìš©í•´ì•¼í•œë‹¤.

## item39. anyë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ë³€í˜•í•´ì„œ ì‚¬ìš©í•˜ê¸°

```tsx
function getLengthBad(array: any) {
  return array.length; // ğŸ‘ lengthíƒ€ì…ì´ ì²´í¬ë˜ì§€ ì•ŠìŒ
}

function getLengthGood(array: any[]) { // ğŸ‘ ë§¤ê°œë³€ìˆ˜ê°€ ë°°ì—´ì¸ì§€ ì²´í¬ë¨
  return array.length; // ğŸ‘ lengthíƒ€ì…ì´ ì²´í¬ë˜ê³ , íƒ€ì…ë„ Numberë¡œ ì¶”ë¡ ë¨
}
```

ê·¸ëƒ¥ anyë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ ë³´ë‹¤, any[]ë¥¼ ì‚¬ìš©í•˜ëŠ”ê²Œ ë” ì¢‹ë‹¤. í•¨ìˆ˜ì˜ lengthíƒ€ì…ì´ ì²´í¬ë˜ê³ , ë°˜í™˜íƒ€ì… ë˜í•œ numberë¡œ ì¶”ë¡ ëœë‹¤. 

```tsx
function hasTwelveLetterKey(obj: { [key: string]: any }) {
  for (const key in obj) {
    if (key.length === 12) {
      console.log(key, obj[key]);
      return true;
    }
  }
  return false;
}
```

í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ê°€ ê°ì²´ì´ì§€ë§Œ ê°’ì„ ì•Œ ìˆ˜ ì—†ë‹¤ë©´,  `{ [key: string]: any }` ì²˜ëŸ¼ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.

```tsx
type fn0 = () => any; // ë§¤ê°œë³€ìˆ˜ê°€ ì—†ëŠ” í•¨ìˆ˜
type fn1 = (arg: any) => any; // ë§¤ê°œë³€ìˆ˜ê°€ í•˜ë‚˜ì¸ í•¨ìˆ˜
type fn2 = (...args: any[]) => any; // ë§¤ê°œë³€ìˆ˜ê°€ ì—¬ëŸ¬ ê°œì¸ í•¨ìˆ˜
```

í•¨ìˆ˜ì˜ íƒ€ì…ì—ë„ ë‹¨ìˆœíˆ anyë¥¼ ì“°ê¸° ë³´ë‹¤ëŠ”, ë‹¤ìŒê³¼ ê°™ì´ ë§¤ê°œë³€ìˆ˜ì˜ ê°œìˆ˜ë¥¼ ìµœì†Œí•œìœ¼ë¡œë‚˜ë§ˆ êµ¬ì²´í™”í•  ìˆ˜ ìˆë‹¤.

## Item40. í•¨ìˆ˜ ì•ˆìœ¼ë¡œ íƒ€ì… ë‹¨ì–¸ë¬¸ ê°ì¶”ê¸°

íƒ€ì… ì„ ì–¸ë¬¸ì€ ì¼ë°˜ì ìœ¼ë¡œ íƒ€ì…ì„ ìœ„í—˜í•˜ê²Œ ë§Œë“¤ì§€ë§Œ ìƒí™©ì— ë”°ë¼ í˜„ì‹¤ì ì¸ í•´ê²°ì±…ì´ ë˜ê¸°ë„ í•œë‹¤. 

ë¶ˆê°€í”¼í•˜ê²Œ ì‚¬ìš©í•´ì•¼í•œë‹¤ë©´, ì •í™•í•œ ì •ì˜ë¥¼ ê°€ì§€ëŠ” í•¨ìˆ˜ ì•ˆìœ¼ë¡œ ìˆ¨ê²¨ì•¼í•œë‹¤.

ì•„ë˜ì˜ ì¼€ì´ìŠ¤ë„ anyê°€ ë§ì´ ì‚¬ìš©ë˜ì—ˆì§€ë§Œ, íƒ€ì…ì •ì˜ì—ëŠ” anyê°€ ì—†ê¸° ë•Œë¬¸ì— cacheLastë¥¼ í˜¸ì¶œí•˜ëŠ” ìª½ì—ì„œëŠ” anyê°€ ì‚¬ìš©ëëŠ”ì§€ ì•Œ ìˆ˜ ì—†ë‹¤.

```tsx
function cacheLast<T extends Function>(fn: T): T {
  let lastArgs: any[] | null = null;
  let lastResult: any;
  return function (...args: any[]) {
    if (!lastArgs || !shallowEqual(lastArgs, args)) {
      lastResult = fn(...args);
      lastArgs = args;
    }
    return lastResult;
  } as unknown as T;
}
```

## Item41. anyì˜ ì§„í™”ë¥¼ ì´í•´í•˜ê¸°

```tsx
// ts
function range(start: number, limit: number) {
  const out =[]; // íƒ€ì…ì´ any[]
  for (let i = start; i < limit; i++) {
    out.push(i); // íƒ€ì…ì´ any[]
  }
  return out // íƒ€ì…ì´ number[]
}
```

outì˜ íƒ€ì…ì´ ì²˜ìŒì—” anyíƒ€ì…ì˜ ë°°ì—´ì¸ []ë¡œ ì´ˆê¸°í™”ê°€ ë˜ì—ˆëŠ”ë°, ë§ˆì§€ë§‰ì—” number[]ë¡œ ì¶”ë¡ ë˜ê³  ìˆë‹¤.

numberíƒ€ì…ì˜ ê°’ì„ ë„£ëŠ” ìˆœê°„ë¶€í„° íƒ€ì…ì€ number[]ë¡œ ì§„í™”í•œë‹¤.

```tsx
let val; // val: any

if(Math.random() < 0.5) {
    val = /hello/; // val: RegExp
} else {
  val = 12; // val: number
}

val; // íƒ€ì…ì´ number | RegExp
```

ë³€ìˆ˜ì˜ ì´ˆê¹ƒê°’ì´ nullì¸ ê²½ìš°ì—ë„ anyì˜ ì§„í™”ê°€ ì¼ì–´ë‚œë‹¤.

íƒ€ì…ì˜ ì§„í™”ëŠ” ê°’ì„ í• ë‹¹í•˜ê±°ë‚˜ ë°°ì—´ì— ìš”ì†Œë¥¼ ë„£ì€ í›„ì—ë§Œ ì´ëŸ¬ë‚˜ê¸° ë•Œë¬¸ì—, í¸ì§‘ê¸°ì—ì„œëŠ” ì´ìƒí•˜ê²Œ ë³´ì¼ ìˆ˜ ìˆë‹¤!

anyê°€ ì§„í™”í•˜ëŠ” ë°©ì‹ì€ ì¼ë°˜ì ì¸ ë³€ìˆ˜ê°€ ì¶”ë¡ ë˜ëŠ” ì›ë¦¬ì™€ ë™ì¼í•˜ë‹¤. íƒ€ì…ì„ ì•ˆì „í•˜ê²Œ ì§€í‚¤ê¸° ìœ„í•´ì„œëŠ” ì•”ì‹œì  anyë¥¼ ì§„í™”ì‹œí‚¤ëŠ” ë°©ì‹ë³´ë‹¤ ëª…ì‹œì  íƒ€ì… êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ì¢‹ì€ ì„¤ê³„ë‹¤.

- ì¼ë°˜ì ì¸ íƒ€ì…ë“¤ì€ ì •ì œë˜ê¸°ë§Œ í•˜ëŠ” ë°˜ë©´, ì•”ì‹œì  anyì™€ any[] íƒ€ì…ì€ ì§„í™” í•  ìˆ˜ ìˆë‹¤.
- anyë¥¼ ì§„í™”ì‹œí‚¤ëŠ” ë°©ì‹ë³´ë‹¤ ëª…ì‹œì  íƒ€ì… êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•ˆì „í•œ íƒ€ì…ì„ ìœ ì§€í•˜ëŠ” ë°©ë²•ì´ë‹¤.

## item42. ëª¨ë¥´ëŠ” íƒ€ì…ì˜ ê°’ì—ëŠ” anyëŒ€ì‹  unknownì„ ì‚¬ìš©í•˜ê¸°

any íƒ€ì…ì€ íƒ€ì… ì²´ì»¤ë¥¼ ë¬´ì‹œí•˜ëŠ” íƒ€ì…ìœ¼ë¡œ ê°•ë ¥í•˜ì§€ë§Œ typescriptì˜ ê¸°ëŠ¥ì„ ì¶©ë¶„íˆ í™œìš©í•˜ì§€ ëª»í•˜ëŠ” íƒ€ì…ê³¼ ê°™ë‹¤.

- any, unknown, neverì˜ ì°¨ì´ì 
    - any: ì–´ë–¤ íƒ€ì…ì´ë“  any íƒ€ì…ì— í• ë‹¹ì´ ê°€ëŠ¥í•˜ë‹¤.any íƒ€ì…ì€ ì–´ë– í•œ íƒ€ì…ìœ¼ë¡œë„ í• ë‹¹ ê°€ëŠ¥í•˜ë‹¤. (never ì œì™¸)
    - unknown: ì–´ë– í•œ íƒ€ì…ì´ë“  unknown íƒ€ì…ì— í• ë‹¹ì´ ê°€ëŠ¥í•˜ë‹¤.unknown íƒ€ì…ì€ unknownê³¼ anyì— íƒ€ì…ìœ¼ë¡œë§Œ í• ë‹¹ì´ ê°€ëŠ¥í•˜ë‹¤.
    - never: ì–´ë– í•œ íƒ€ì…ë„ neverì— í• ë‹¹í•  ìˆ˜ ì—†ë‹¤.never íƒ€ì…ì€ ì–´ë– í•œ íƒ€ì…ìœ¼ë¡œë„ í• ë‹¹ì´ ê°€ëŠ¥í•˜ë‹¤.

```tsx
//any
function sum(a: number, b: number) {
  return a + b;
}

let a: any = 1;
let b: any = 2;

sum(a, b);
//ì—¬ê¸°ì„œ a,bì˜ íƒ€ì…ì€ anyì´ì§€ë§Œ sumì˜ ë§¤ê°œë³€ìˆ˜ì— í• ë‹¹ì´ ê°€ëŠ¥í•´ì§„ë‹¤.

//unknown
let a: unknown = 1;
let b: unknown = 2;

sum(a, b); //ERROR
//Argument of type 'unknown' is not assignable to parameter of type 'number'.
//unknownì€ unknown, anyë¥¼ ì œì™¸í•œ íƒ€ì…ì—ëŠ” í• ë‹¹ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.

//never
let a: never = 1; //Error
// Type 'number' is not assignable to type 'never'.
let b: never = 2; //Error
// Type 'number' is not assignable to type 'never'.
//ì–´ë– í•œ íƒ€ì…ë„ neverì— í• ë‹¹í•  ìˆ˜ ì—†ë‹¤.
sum(a, b);

//unknown never
let a: unknown = 1;
let b: unknown = 2;

sum(a as never, b as never); //pass
//neverì€ ì–´ë– í•œ íƒ€ì…ìœ¼ë¡œë„ í• ë‹¹ì´ ê°€ëŠ¥í•˜ë‹¤. ìœ„ì™€ê°™ì´ ì‚¬ìš©í•˜ë©´ ì•ˆë˜ì§€ë§Œ anyì™€ ë™ì¼í•œ ë™ì‘ì„í•œë‹¤.
```

## item43. ëª½í‚¤ íŒ¨ì¹˜ë³´ë‹¤ëŠ” ì•ˆì „í•œ íƒ€ì…ì„ ì‚¬ìš©í•˜ê¸°

ëª½í‚¤íŒ¨ì¹˜ëŠ”Â ì›ë˜ ì†ŒìŠ¤ì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³  ì‹¤í–‰ ì‹œ ì½”ë“œ ê¸°ë³¸ ë™ì‘ì„ ì¶”ê°€, ë³€ê²½ ë˜ëŠ” ì–µì œí•˜ëŠ” ê¸°ìˆ ì´ë‹¤. ì‰½ê²Œ ë§í•´ ì–´ë–¤ ê¸°ëŠ¥ì„ ìœ„í•´ ì´ë¯¸ ìˆë˜ ì½”ë“œì— ì‚½ì…í•˜ëŠ” ê²ƒì´ë‹¤

ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ê°€ì¥ ìœ ëª…í•œ íŠ¹ì§• ì¤‘ í•˜ë‚˜ëŠ”,Â ê°ì²´ì™€ í´ë˜ìŠ¤ì— ì„ì˜ì˜ ì†ì„±ì„ ì¶”ê°€í•  ìˆ˜ ìˆì„ ë§Œí¼Â ìœ ì—°í•˜ë‹¤ëŠ” ê²ƒì´ë‹¤. ë”°ë¼ì„œÂ windowë‚˜Â documentì— ê°’ì„ í• ë‹¹í•˜ì—¬ ì „ì—­ ë³€ìˆ˜ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì§€ë§Œ ì´ëŠ” ì „ì—­ë³€ìˆ˜ê°€ ë˜ê¸° ë•Œë¬¸ì—, ì„œë¡œ ë–¨ì–´ì§„ ë¶€ë¶„ë“¤ê°„ì— ì˜ì¡´ì„±ì„ ë†’ì´ê³ Â ì‚¬ì´ë“œ ì´í™íŠ¸ë¥¼ ê³ ë ¤í•´ì•¼ë§Œ í•œë‹¤.

any ë‹¨ì–¸ë¬¸ì„ ì‚¬ìš©í•´ì„œ ì˜¤ë¥˜ë¥¼ í•´ê²°í•  ìˆ˜ ìˆì§€ë§Œ anyë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨Â íƒ€ì… ì•ˆì •ì„±ì„ ìƒì‹¤í•˜ê³ Â ì–¸ì–´ ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê²Œ ëœë‹¤.

```tsx
window.monkey = 'Tamarin';
document.monkey = 'Howler';

const el = document.getElementById('colobus');
el.monkey = 'tree';

// typescript ê´€ì 
window.monkey = 'Tamarin'; // Error : Property 'monkey' does not exist on type 'Window & typeof globalThis'.
document.monkey = 'Howler'; // Error : Property 'monkey' does not exist on type 'Document'.

// ì˜¤ë¥˜ í•´ê²°ìœ„í•œ any ë‹¨ì–¸ë¬¸ ì‚¬ìš©
(window as any).monkey = 'Tamarin'; // ok
(document as any).monkey = 'Howler'; // ok
```

### any ëŒ€ì‹  ë³´ê°•(augmentation)ì„ ì‚¬ìš©

- íƒ€ì…ì´ ë”Â ì•ˆì „, íƒ€ì…ì²´ì»¤ê°€ ì˜¤íƒ€ë‚˜ ì˜ëª»ëœ íƒ€ì…ì˜ í• ë‹¹ì„Â ì˜¤ë¥˜ë¡œ í‘œì‹œí•œë‹¤.
- ì†ì„±ì—Â ì£¼ì„ì„ ë¶™ì¼ ìˆ˜ ìˆê³ ,Â ìë™ì™„ì„±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- ëª½í‚¤íŒ¨ì¹˜ê°€ ì–´ë–¤ ë¶€ë¶„ì— ì ìš©ë˜ì—ˆëŠ”ì§€Â ê¸°ë¡ì´ ë‚¨ëŠ”ë‹¤.

```tsx
interface Document {
  /** ëª½í‚¤ íŒ¨ì¹˜ì˜ ì†(genus) ë˜ëŠ” ì¢…(species) **/
  monkey: string;
}

document.monkey = 'Tamarin'; // ok
```

ë³´ê°•ì‹œ ì£¼ì˜ì ì€Â ëª¨ë“ˆ ì˜ì—­(scope)ì™€ ì—°ê´€ì´ ìˆë‹¤. ë³´ê°•ì€ ì „ì—­ì ìœ¼ë¡œ ì ìš©ë˜ê¸° ë•Œë¬¸ì— ì½”ë“œì˜ ë‹¤ë¥¸ ë¶€ë¶„ì´ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œë¶€í„°Â ë¶„ë¦¬ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ë˜í•œ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ ì†ì„±ì„ í• ë‹¹í•˜ë©´Â ì‹¤í–‰ ì‹œì ì—ì„œ ë³´ê°•ì„ ì ìš©í•  ë°©ë²•ì´ ì—†ë‹¤.

- íŠ¹íˆ ì›¹ í˜ì´ì§€ ë‚´ì˜ HTML ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ì¡°ì‘ ì‹œ ì–´ë–¤ ì—˜ë¦¬ë¨¼íŠ¸ëŠ” ì†ì„±ì´ ìˆê³  ì–´ë–¤ ì—˜ë¦¬ë¨¼íŠ¸ëŠ” ì†ì„±ì´ ì—†ëŠ” ê²½ìš° ë¬¸ì œê°€ ëœë‹¤. ì´ëŸ¬í•œ ì´ìœ ë¡œ ì†ì„±ì„Â string | undefinedë¡œ ì„ ì–¸í•  ìˆ˜ ìˆì§€ë§Œ, ë‹¤ë£¨ê¸° ë¶ˆí¸í•´ì§„ë‹¤.

### ë” êµ¬ì²´ì ì¸ íƒ€ì… ë‹¨ì–¸ë¬¸ ì‚¬ìš©

MonkeyDocumentëŠ”Â Documentë¥¼ í™•ì¥í•˜ê¸° ë•Œë¬¸ì— íƒ€ì…ë‹¨ì–¸ë¬¸ì€ ì •ìƒì´ë©° í• ë‹¹ë¬¸ì˜ íƒ€ì…ì€ ì•ˆì „í•˜ë‹¤.

ë˜í•œÂ DocumentÂ íƒ€ì…ì„ ê±´ë“œë¦¬ì§€ ì•Šê³  ë³„ë„ë¡œ í™•ì¥í•˜ëŠ” ìƒˆë¡œìš´ íƒ€ì…ì„ ë„ì…í–ˆê¸° ë•Œë¬¸ì—Â ëª¨ë“ˆ ì˜ì—­ ë¬¸ì œë„ í•´ê²°ë˜ì—ˆë‹¤.ë”°ë¼ì„œÂ ëª½í‚¤ íŒ¨ì¹˜ëœ ì†ì„±ì„ ì°¸ì¡°í•˜ëŠ” ê²½ìš°ì—ë§Œ ë‹¨ì–¸ë¬¸ì„ ì‚¬ìš©í•˜ê±°ë‚˜ ìƒˆë¡œìš´ ë³€ìˆ˜ë¥¼ ë„ì…í•˜ë©´ ëœë‹¤.

```tsx
interface MonkeyuDocument extends Document {
  /** ëª½í‚¤ íŒ¨ì¹˜ì˜ ì†(genus) ë˜ëŠ” ì¢…(species) **/
  monkey: string;
}

(document as MonkeyDocument).monkey = 'Macaque'; // ok
```

## item 44. íƒ€ì… ì»¤ë²„ë¦¬ì§€ë¥¼ ì¶”ì í•˜ì—¬ íƒ€ì… ì•ˆì •ì„± ìœ ì§€í•˜ê¸°

noImplicitAnyë¥¼ ì„¤ì •í•˜ê³ Â ëª¨ë“  ì•”ì‹œì  anyÂ ëŒ€ì‹ Â ëª…ì‹œì  íƒ€ì… êµ¬ë¬¸ì„ ì¶”ê°€í•´ë„ anyíƒ€ì…ê³¼ ê´€ë ¨ëœ ë¬¸ì œë“¤ë¡œë¶€í„° ì•ˆì „í•˜ë‹¤ê³  í•  ìˆ˜ëŠ” ì—†ë‹¤.

### ëª…ì‹œì  any íƒ€ì…

ì•„ì´í…œ 38Â /Â ì•„ì´í…œ 39ì˜ ë‚´ìš©ì— ë”°ë¼ any íƒ€ì…ì˜ ë²”ìœ„ë¥¼ ì¢íˆê³  êµ¬ì²´ì ìœ¼ë¡œ ë§Œë“¤ì–´ë„ ì—¬ì „íˆ anyë‹¤. íŠ¹íˆÂ any[]ì™€Â {[key: string]: any}ê°™ì€ íƒ€ì…ì€ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ë©´ ë‹¨ìˆœ anyê°€ ë˜ê³  ì½”ë“œ ì „ë°˜ì— ì˜í–¥ì„ ë¯¸ì¹œë‹¤.

### ì„œë“œíŒŒí‹° íƒ€ì… ì„ ì–¸

ì´ ê²½ìš°ì—ëŠ”Â @types ì„ ì–¸ íŒŒì¼ë¡œ ë¶€í„°Â any íƒ€ì…ì´ ì „íŒŒë˜ê¸° ë•Œë¬¸ì— íŠ¹ë³„íˆ ì¡°ì‹¬í•´ì•¼í•œë‹¤. noImplicitAnyë¥¼ ì„¤ì •í•˜ê³  ì ˆëŒ€ anyë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë‹¤ í•˜ë”ë¼ë„ ì—¬ì „íˆ anyëŠ” ì½”ë“œ ì „ë°˜ì— ì˜í–¥ì„ ë¯¸ì¹œë‹¤.

### any ì¶”ì 

any íƒ€ì…ì€ íƒ€ì… ì•ˆì •ì„±ê³¼ ìƒì‚°ì„±ì— ë¶€ì •ì  ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, í”„ë¡œì íŠ¸ì—ì„œÂ anyì˜ ê°œìˆ˜ë¥¼ ì¶”ì í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. npmì˜Â type-cover-ageíŒ¨í‚¤ì§€ë¥¼ ì´ìš©í•˜ë©´ ì¶”ì í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ëª‡ê°€ì§€ê°€ ìƒê¸´ë‹¤.

```
$ npx type-coverage
9985 / 10117 98.69%
```

ê²°ê³¼ë¥¼ í†µí•´ ì´ í”„ë¡œì íŠ¸ì˜ 10,117ê°œ ì‹¬ë²Œì¤‘ 9,985ê°œ(98.69%)ê°€ anyê°€ ì•„ë‹ˆê±°ë‚˜ anyì˜ ë³„ì¹­ì´ ì•„ë‹Œ íƒ€ì…ì„ ê°€ì§€ê³  ìˆìŒì„ ì•Œê²Œ ëœë‹¤. anyíƒ€ì…ì´ ì¶”ê°€ëœë‹¤ë©´Â ë°±ë¶„ìœ¨ì´ ê°ì†Œ

```
$ npx type-coverage --detail
path/to/code.ts:1:10 getcolumnInfo
path/to/module.ts:7:1 pt2
```

- `-detail`í”Œë˜ê·¸ë¥¼ ë¶™ì´ë©´ anyíƒ€ì…ì´ ìˆëŠ” ê³³ì„ ëª¨ë‘ ì¶œë ¥í•´ì¤€ë‹¤.

## item45.devDependenciesì— typescript ì™€ @types ì¶”ê°€í•˜ê¸°

npmì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì €ì¥ì†Œ(npm ë ˆì§€ìŠ¤íŠ¸ë¦¬)ì™€, í”„ë¡œì íŠ¸ê°€ ì˜ì¡´í•˜ê³  ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì˜ ë²„ì „ì„ ì§€ì •í•˜ëŠ” ë°©ë²•Â package.jsonì„ ì œê³µí•œë‹¤.

### npmì˜ 3ê°€ì§€ ì¢…ë¥˜ì˜ ì˜ì¡´ì„±

1. dependencies
    
    í˜„ì¬ í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ”ë°Â í•„ìˆ˜ì ì¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ í¬í•¨. í”„ë¡œì íŠ¸ì˜ ëŸ°íƒ€ì„ì—Â lodashê°€ ì‚¬ìš©ëœë‹¤ë©´Â dependenciesì— í¬í•¨ë˜ì–´ì•¼ í•œë‹¤. í”„ë¡œì íŠ¸ë¥¼ npmì— ê³µê°œí•˜ì—¬ ë‹¤ë¥¸ ì‚¬ìš©ìê°€ í•´ë‹¹ í”„ë¡œì íŠ¸ë¥¼ ì„¤ì¹˜í•œë‹¤ë©´ dependenciesì— ë“¤ì–´ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë„ í•¨ê»˜ ì„¤ì¹˜ë ê²ƒì´ë‹¤. ì´ëŸ¬í•œ í˜„ìƒì„Â ì „ì´(transitive) ì˜ì¡´ì„±ì´ë¼ê³  í•œë‹¤.
    
2. devDependencies
    
    í˜„ì¬ í”„ë¡œì íŠ¸ë¥¼ ê°œë°œí•˜ê³  í…ŒìŠ¤íŠ¸í•˜ëŠ” ë° ì‚¬ìš©ë˜ì§€ë§ŒÂ ëŸ°íƒ€ì„ì—ëŠ” í•„ìš” ì—†ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ í¬í•¨ëœë‹¤. ì˜ˆë¥¼ ë“¤ì–´ í”„ë¡œì íŠ¸ë¥¼ ì‚¬ìš© ì¤‘ì¸ í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ê°€Â devDependenciesì— í¬í•¨ë  ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë‹¤. devDependenciesì— í¬í•¨ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì€ ê³µê°œí• ë•Œì— ì œì™¸ëœë‹¤.
    
3. peerDependencies
    
    ëŸ°íƒ€ì„ì— í•„ìš”í•˜ê¸´ í•˜ì§€ë§Œ,Â ì˜ì¡´ì„±ì„ ì§ì ‘ ê´€ë¦¬í•˜ì§€ ì•ŠëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ í¬í•¨. ë‹¨ì ì¸ ì˜ˆë¡œÂ í”ŒëŸ¬ê·¸ì¸ì„ ë“¤ ìˆ˜ ìˆë‹¤.
    

### ëª¨ë“  TS í”„ë¡œì íŠ¸ì—ì„œ ê³µí†µì ìœ¼ë¡œ ê³ ë ¤í•´ì•¼ í•  ì˜ì¡´ì„± ë‘ ê°€ì§€

1. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ìì²´ ì˜ì¡´ì„± ê³ ë ¤í•˜ê¸°
    
    íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼Â ì‹œìŠ¤í…œ ë ˆë²¨ë¡œ ì„¤ì¹˜í•˜ê¸°ë³´ë‹¤ëŠ” devDependenciesì— ë„£ëŠ” ê²ƒì´ ì¢‹ë‹¤. npm installì„ ì‹¤í–‰í•  ë•Œ íŒ€ì›ë“¤ ëª¨ë‘ í•­ìƒ ì •í™•í•œ ë²„ì „ì˜ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì„¤ì¹˜í•  ìˆ˜ ìˆë‹¤.
    
2. íƒ€ì… ì˜ì¡´ì„±(@types) ê³ ë ¤í•˜ê¸°
    
    @typesÂ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” íƒ€ì… ì •ë³´ë§Œ í¬í•¨í•˜ê³  ìˆìœ¼ë©° êµ¬í˜„ì²´ëŠ” í¬í•¨í•˜ì§€ ì•ŠëŠ”ë‹¤. ì›ë³¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ìì²´ê°€ dependenciesì— ìˆë”ë¼ë„ @types ì˜ì¡´ì„±ì€ devDependenciesì— ìˆì–´ì•¼í•œë‹¤.
    
    ```
    $ npm install react
    $ npm install --save-dev @types/react
    ```
    

## item46. íƒ€ì… ì„ ì–¸ê³¼ ê´€ë ¨ëœ ì„¸ê°€ì§€ ë²„ì „ ì´í•´í•˜ê¸°

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì˜ì¡´ì„± ê´€ë¦¬ëŠ” ë” ë³µì¡í•˜ë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ë‹¤ìŒ ì„¸ ê°€ì§€ ì‚¬í•­ì„ ì¶”ê°€ë¡œ ê³ ë ¤í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

1. ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ë²„ì „
2. íƒ€ì… ì„ ì–¸(@types)ì˜ ë²„ì „
3. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ë²„ì „

ì„¸ ê°€ì§€ ë²„ì „ ì¤‘ í•˜ë‚˜ë¼ë„ ë§ì§€ ì•Šìœ¼ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ì´ë ‡ê²Œ ë°œìƒí•œ ì˜¤ë¥˜ì˜ ì›ì¸ì„ íŒŒì•…í•˜ê³  ê³ ì¹˜ê¸° ìœ„í•´ì„œëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê´€ë¦¬ì˜ ë³µì¡í•œ ë©”ì»¤ë‹ˆì¦˜ì„ ëª¨ë‘ ì´í•´í•´ì•¼ í•œë‹¤.

```bash
$ npm install react
+ react@16.8.6

$ npm install --save-dev @types/react
+ @types/react@16.8.19
```

ì‹¤ì œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ íƒ€ì… ì •ë³´ì˜ ë²„ì „ì´ ë³„ë„ë¡œ ê´€ë¦¬ë˜ëŠ” ë°©ì‹ì€ ë‹¤ìŒ ë„¤ ê°€ì§€ ë¬¸ì œì ì´ ìˆë‹¤.

1. ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì—…ë°ì´íŠ¸í–ˆì§€ë§Œ ì‹¤ìˆ˜ë¡œ íƒ€ì… ì„ ì–¸ì€ ì—…ë°ì´íŠ¸ í•˜ì§€ ì•ŠëŠ” ê²½ìš°
    
    íƒ€ì… ì„ ì–¸ë„ ì—…ë°ì´íŠ¸í•˜ì—¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ë²„ì „ì„ ë§ì¶˜ë‹¤.
    
2. ë¼ì´ë¸ŒëŸ¬ë¦¬ë³´ë‹¤ íƒ€ì… ì„ ì–¸ì˜ ë²„ì „ì´ ìµœì‹ ì¸ ê²½ìš°
    
    ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ íƒ€ì… ì„ ì–¸ì˜ ë²„ì „ì´ ë§ë„ë¡ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë²„ì „ì„ ì˜¬ë¦¬ê±°ë‚˜ íƒ€ì… ì„ ì–¸ì˜ ë²„ì „ì„ ë‚´ë¦°ë‹¤.
    
3. í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ë²„ì „ë³´ë‹¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ í•„ìš”ë¡œ í•˜ëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ë²„ì „ì´ ìµœì‹ ì¸ ê²½ìš°
    
    í”„ë¡œì íŠ¸ì˜ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ë²„ì „ì„ ì˜¬ë¦¬ê±°ë‚˜, ë¼ì´ë¸ŒëŸ¬ë¦¬ íƒ€ì… ì„ ì–¸ì˜ ë²„ì „ì„ ì›ë˜ëŒ€ë¡œ ë‚´ë¦¬ê±°ë‚˜, declare module ì„ ì–¸ìœ¼ë¡œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ íƒ€ì… ì •ë³´ë¥¼ ì—†ì•  ë²„ë¦°ë‹¤.
    
4. @types ì˜ì¡´ì„±ì´ ì¤‘ë³µë  ìˆ˜ ìˆë‹¤

```bash
node+modules/
	@types/
	foo/
		index.d.ts @1.2.3
	bar/
		index.d.ts
		node_modules/
			@types/
				foo/
					index.d.ts @2.3.4

```

ë§Œì•½ @types/barê°€ í˜„ì¬ í”„ë¡œì íŠ¸ì˜ í˜¸í™˜ë˜ì§€ ì•ŠëŠ” ë²„ì „ì˜ @types/fooì— ì˜ì¡´í•œë‹¤ë©´ npmì€ ì¤‘ì²©ëœ í´ë”ì— ë³„ë„ë¡œ í•´ë‹¹ ë²„ì „ì„ ì„¤ì¹˜í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ê³  í•œë‹¤.

ëŸ°íƒ€ì„ì— ì‚¬ìš©ë˜ëŠ” ëª¨ë“ˆì´ë¼ë©´ ê´œì°®ì„ ìˆ˜ ìˆì§€ë§Œ, ì „ì—­ ë„¤ì„ìŠ¤í˜ì´ìŠ¤(name-space)ì— ìˆëŠ” íƒ€ì… ì„ ì–¸ ëª¨ë“ˆì´ë¼ë©´ ëŒ€ë¶€ë¶„ ë¬¸ì œê°€ ë°œìƒí•œë‹¤.

ë³´í†µ @types/fooë¥¼ ì—†ë°ì´íŠ¸ í•˜ê±°ë‚˜ @types/barë¥¼ ì—…ë°ì´íŠ¸í•´ì„œ ì„œë¡œ ë²„ì „ì´ í˜¸í™˜ë˜ê²Œ í•œë‹¤

## item47. ê³µê°œ APIì— ë“±ì¥í•˜ëŠ” ëª¨ë“  íƒ€ì…ì„ ìµìŠ¤í¬íŠ¸ í•˜ê¸°

ì„œë“œíŒŒí‹°ì˜ ëª¨ë“ˆì—ì„œ ìµìŠ¤í¬íŠ¸ë˜ì§€ ì•Šì€ íƒ€ì… ì •ë³´ê°€ í•„ìš”í•œ ê²½ìš°

```tsx
interface SecretName {
  first: string;
  last: string;
}

interface SecretSanta {
  name: SecretName;
  gift: string;
}

export function getGift(name: SecretName, gift: string): SecretSanta {
  // ...
}
```

í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©ìëŠ”Â `SecretName`Â ë˜ëŠ”Â `SecretSanta`ë¥¼ ì§ì ‘ ì„í¬íŠ¸í•  ìˆ˜ ì—†ê³ , getGiftë§Œ ì„í¬íŠ¸ ê°€ëŠ¥í•˜ë‹¤. ì´ë•Œ ìµìŠ¤í¬íŠ¸ ë˜ì§€ ì•Šì€ íƒ€ì…ì„ ì¶”ì¶œí•˜ëŠ” í•œ ê°€ì§€ ë°©ë²•ì€Â `Parameters`ì™€Â `ReturnType`Â ì œë„ˆë¦­ íƒ€ì…ì„ ì‚¬ìš©í•œë‹¤.

```tsx
type MySanta = ReturnType<typeof getGift>; // SecretSanta
type MyName = ReturnType<typeof getGift>[0]; // SecretName
```

ê³µê°œ ë©”ì„œë“œì— ë“±ì¥í•œ ì–´ë–¤ í˜•íƒœì˜ íƒ€ì…ì´ë“  ìµìŠ¤í¬íŠ¸ í•˜ì. ì–´ì°¨í”¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©ìê°€ ì¶”ì¶œí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ìµìŠ¤í¬íŠ¸í•˜ê¸° ì‰½ê²Œ ë§Œë“œëŠ” ê²ƒì´ ì¢‹ë‹¤.

## item48. **API ì£¼ì„ì— TSDoc ì‚¬ìš©í•˜ê¸°**

ì‚¬ìš©ìë¥¼ ìœ„í•œ ë¬¸ì„œë¼ë©´ JSDoc ìŠ¤íƒ€ì¼ì˜ ì£¼ì„ìœ¼ë¡œ ë§Œë“œëŠ” ê²ƒì´ ì¢‹ë‹¤.

- ëŒ€ë¶€ë¶„ì˜ í¸ì§‘ê¸°ëŠ” í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ëŠ” ê³³ì—ì„œ í•¨ìˆ˜ì— ë¶™ì–´ ìˆëŠ” JSDoc ìŠ¤íƒ€ì¼ì˜ ì£¼ì„ì„ íˆ´íŒìœ¼ë¡œ í‘œí˜„í•´ ì¤Œ
- ê·¸ëŸ¬ë‚˜ ì¸ë¼ì¸(inline)ì£¼ì„ì€ í¸ì§‘ê¸°ê°€ í‘œì‹œí•´ ì£¼ì§€ ì•ŠìŒ

```tsx
// inline ì£¼ì„

/** JSDoc ì£¼ì„ */
```

ê³µê°œ APIì— ì£¼ì„ì„ ë¶™ì¸ë‹¤ë©´ JSDoc í˜•íƒœë¡œ ì‘ì„±í•´ì•¼ í•œë‹¤.

- JSDocì—ëŠ”Â `@param`ê³¼Â `@returns`Â ê°™ì€ ì¼ë°˜ì  ê·œì¹™ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- `@param`ê³¼Â `@returns`ë¥¼ ì¶”ê°€í•˜ë©´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ë¶€ë¶„ì—ì„œ ê° ë§¤ê°œë³€ìˆ˜ì™€ ê´€ë ¨ëœ ì„¤ëª…ì„ ë³´ì—¬ì¤€ë‹¤.

```tsx
/**
  * ì¸ì‚¬ë§ì„ ìƒì„±í•©ë‹ˆë‹¤.
  * @param name ì¸ì‚¬í•  ì‚¬ëŒì˜ ì´ë¦„
  * @param title ê·¸ ì‚¬ëŒì˜ ì¹­í˜¸
  * @returns ì‚¬ëŒì´ ë³´ê¸° ì¢‹ì€ í˜•íƒœì˜ ì¸ì‚¬ë§
*/
function greetFullTSDoc(name: string, title: string) {
  return `Hello ${title} ${name};
}

```

## Item49.**ì½œë°±ì—ì„œ thisì— ëŒ€í•œ íƒ€ì… ì œê³µí•˜ê¸°**

- this ë°”ì¸ë”©ì´ ë™ì‘í•˜ëŠ” ì›ë¦¬ë¥¼ ì´í•´í•´ì•¼ í•œë‹¤.
- ì½œë°± í•¨ìˆ˜ì—ì„œ thisë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤ë©´, íƒ€ì… ì •ë³´ë¥¼ ëª…ì‹œí•´ì•¼ í•œë‹¤. thisëŠ” ë™ì  ìŠ¤ì½”í”„(í˜¸ì¶œëœ ë°©ì‹ì— ë”°ë¼ ê°’ì´ ë‹¬ë¼ì§„ë‹¤)ë¼ ì˜ˆìƒí•˜ê¸° ì–´ë µê¸° ë•Œë¬¸ì´ë‹¤.

```tsx
//ì½œë°± í•¨ìˆ˜ ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì— ìˆëŠ” thisëŠ” íŠ¹ë³„í•˜ê²Œ ì²˜ë¦¬ ëœë‹¤.
//-> ì‹¤ì œë¡œ ì¸ìë¡œ ë„£ì„ í•„ìš”ëŠ” ì—†ë‹¤. this ë°”ì¸ë”© ì²´í¬ìš©ì´ë‹¤.
//ì½œë°± í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ì— thisë¥¼ ì¶”ê°€í•˜ë©´ this ë°”ì¸ë”©ì„ ì²´í¬í•  ìˆ˜ ìˆë‹¤.
function addKeyListener(
  el: HTMLElement,
  fn: (this: HTMLElement, e: KeyboardEvent) => void) {
  el.addEventListener("keydown", (e) => {
    fn(el, e); //âŒ
    //1ê°œì˜ ì¸ìˆ˜ê°€ í•„ìš”í•œë° 2ê°œë¥¼ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.
  });
}

function addKeyListener2(
  el: HTMLElement,
  fn: (this: HTMLElement, e: KeyboardEvent) => void) {
  el.addEventListener("keydown", (e) => {
    fn(e); //this ë°”ì¸ë”© ì²´í¬í•´ì¤€ë‹¤.
    //'void' í˜•ì‹ì˜ 'this' ì»¨í…ìŠ¤íŠ¸ë¥¼ ë©”ì„œë“œì˜ 'HTMLElement' í˜•ì‹ 'this'ì— í• ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤
  });
}

//ì½œë°± í•¨ìˆ˜ë¥¼ callë¡œ í˜¸ì¶œí•´ì„œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.
function addKeyListener3(
  el: HTMLElement,
  fn: (this: HTMLElement, e: KeyboardEvent) => void) {
  el.addEventListener("keydown", (e) => fn.call(el, e));
}
```

## item50. **ì˜¤ë²„ë¡œë”© íƒ€ì…ë³´ë‹¤ëŠ” ì¡°ê±´ë¶€ íƒ€ì…ì„ ì‚¬ìš©í•˜ê¸°**

ì˜¤ë²„ë¡œë”© íƒ€ì…ë³´ë‹¤ëŠ” ì¡°ê±´ë¶€ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì¡°ê±´ë¶€ íƒ€ì…ì€ ì¶”ê°€ì ì¸ ì˜¤ë²„ë¡œë”© ì—†ì´ ìœ ë‹ˆì˜¨ íƒ€ì…ì„ ì§€ì› ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì˜¤ë²„ë¡œë”© íƒ€ì… ì¦ì—ì„œ ì¼ì¹˜í•˜ëŠ” íƒ€ì…ì„ ì°¾ì„ ë•Œê¹Œì§€ ìˆœì°¨ì ìœ¼ë¡œ ê²€ìƒ‰í•œë‹¤.

```tsx
// ğŸ‘ ë‚˜ìœ ì˜ˆì‹œ
{
  function double(x: number | string): number | string;
  function double(x: any) {
    return x + x;
  }

  const num = double(2); // type: string | number
  const str = double("x"); // type: string | number
  //ì„ ì–¸ì´ í‹€ë¦¬ì§„ ì•Šì•˜ì§€ë§Œ ëª¨í˜¸í•˜ë‹¤.
}

{
  function double<T extends number | string>(x: T): T;
  function double(x: any) {
    return x + x;
  }

  const num = double(2); // type: 2
  const str = double("x"); // type: 'x'
  //íƒ€ì…ì´ ê³¼í•˜ê²Œ êµ¬ì²´ì ì´ë‹¤.
}

{
  function double(x: number): number;
  function double(x: string): string;
  function double(x: any) {
    return x + x;
  }

  const num = double(2); // type: number
  const str = double("x"); // type: string
  //íƒ€ì…ì´ ëª…í™•í•´ì¡Œì§€ë§Œ ë²„ê·¸ê°€ ë°œìƒí•œë‹¤.

  function f(x: number | string) {
    return double(x); //'string|number' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ” 'string'í˜•ì‹ì˜ ë§¤ê°œë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
  }
}

// ğŸ‘ ì¢‹ì€ ì˜ˆì‹œ
function double<T extends number | string>(
  x: T
): T extends string ? string : number;
function double(x: any) {
  return x + x;
}

const num = double(12); //number
const str = double("x"); //string

function f(x: number | string) {
  return double(x);
}

```

## item51. **ì˜ì¡´ì„± ë¶„ë¦¬ë¥¼ ìœ„í•´ ë¯¸ëŸ¬ íƒ€ì… ì‚¬ìš©í•˜ê¸°**

```tsx
function parseCSV(contents: string | Buffer): {[column: string]: string} {
    if(typeof contents === 'object') {
        return pasrseCSV(contents.toString('utf-8'));
    }
}
```

- í•´ë‹¹ í•¨ìˆ˜ì˜ ì¸ìë¡œ ì‚¬ìš©ë˜ëŠ” íƒ€ì…Â `Buffer`ëŠ” node js ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì œê³µí•˜ëŠ” íƒ€ì… ì„ ì–¸ì„ devDependenciesì— ì˜ì¡´ì„±ì„ ì¶”ê°€í•´ì•¼í•œë‹¤.
    
    `npm install --save-dev @types/node`
    
- `Buffer`Â íƒ€ì…ì„ ìœ„í•´ ì˜ì¡´ì„±ì„ ì¶”ê°€í•˜ê²Œ ë˜ë©´, typescriptë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê°œë°œì, Nodejsë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ë‹¨ìˆœíˆ í•´ë‹¹ í•¨ìˆ˜ë§Œì„ ì‚¬ìš©í•˜ëŠ” ê°œë°œì ëª¨ë‘ í•„ìš”í•˜ì§€ ì•Šì€ íƒ€ì… ì„ ì–¸ë“¤ì´ë‹¤.Â **ì¦‰, ì“¸ë°ì—†ì´ ë„ˆë¬´ ë§ì´ ë“¤ê³  ì˜¨ë‹¤ëŠ” ê²ƒì´ë‹¤.**

**êµ¬ì¡°ì  íƒ€ì´í•‘ì„ ì ìš©, ì‹¤ì œ í•„ìš”í•œ íƒ€ì…ë§Œì„ ì„ ì–¸í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•œë‹¤.**

```tsx
interface Vector2D {
    x: number;
    y: number;
}

function length(v: Vector2D) {
    return v.x * v.y;
}

interface NamedVector {
    name: string;
    x: number;
    y: number;
}

interface Vector3D {
    x: number;
    y: number;
    z: number;
}
```

- `NamedVector`,Â `Vector3D`Â ëª¨ë‘Â `Vector2D`ì˜ ì†ì„±ì„ ëª¨ë‘ í¬í•¨í•˜ê¸° ë•Œë¬¸ì— ë‘˜ ëª¨ë‘Â `Vector2D`ì— í¬í•¨ë˜ë©°, íƒ€ì…ì´ ë  ìˆ˜ ìˆë‹¤.
- `NamedVector`,Â `Vector3D`Â íƒ€ì…ì˜ ê°ì²´ ëª¨ë‘Â `length`Â í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ì´ëŸ¬í•œ íŠ¹ì„±ì„ ì‚¬ìš©í•˜ì—¬ ê¸°ì¡´ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì œê³µí•˜ëŠ” íƒ€ì…ì¸Â `Buffer`ë¥¼ í¬í•¨í•˜ëŠ”Â ìƒˆë¡œìš´ ë¯¸ëŸ¬ íƒ€ì…ì„ ì„ ì–¸í•˜ì—¬ ì‚¬ìš©í•œë‹¤.

```
interface CsvBuffer {
    toString(encoding: string) : string;
}

function parseCSV(contents: string | CsvBuffer): {[column: string]: string} {
    if(typeof contents === 'object') {
        return pasrseCSV(contents.toString('utf-8'));
    }
}
```

- `Buffer`Â ëŒ€ì‹  ìš°ë¦¬ê°€ ìƒˆë¡­ê²Œ ì„ ì–¸í•œÂ `CsvBuffer`ë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤.
- ì¶”í›„ì— node js ê°œë°œìê°€Â `Buffer`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°,Â `Buffer`Â íƒ€ì… ë˜í•œÂ `toString`Â ì†ì„±ì„ ê°€ì§€ê³  ìˆìœ¼ë¯€ë¡œÂ `CsvBuffer`Â íƒ€ì…ì— í¬í•¨ë˜ë©° ë§ˆì°¬ê°€ì§€ë¡œÂ `parseCSV`Â í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.`parseCSV(new Buffer('wowowowo'))`

## item52. **í…ŒìŠ¤íŒ… íƒ€ì…ì˜ í•¨ì •ì— ì£¼ì˜í•˜ê¸°**

- íƒ€ì…ì„ í…ŒìŠ¤íŠ¸í•  ë•ŒëŠ” í•¨ìˆ˜ íƒ€ì…ìœ¼ ã…£ë™ì¼ì„±ê³¼ í• ë‹¹ê°€ëŠ¥ì„±ì˜ ì°¨ì´ì ì„ ì•Œê³  ìˆì–´ì•¼ í•œë‹¤.
- ì½œë°±ì´ ìˆëŠ” í•¨ìˆ˜ë¥¼ í…ŒìŠ¤íŠ¸í•  ë•Œ, ì½œë°± ë§¤ê°œë³€ìˆ˜ì˜ ì¶”ë¡ ëœ íƒ€ì…ì„ ì²´í¬í•´ì•¼ í•œë‹¤.
- íƒ€ì… ê´€ë ¨ëœ í…ŒìŠ¤íŠ¸ì—ì„œ anyë¥¼ ì£¼ì˜í•´ì•¼í•œë‹¤. ë” ì—„ê²©í•œ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ dtslintê°™ì€ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.