# 4ì¥. íƒ€ì… ì„¤ê³„

## item28. ìœ íš¨í•œ ìƒíƒœë§Œ í‘œí˜„í•˜ëŠ” íƒ€ì…ì„ ì§€í–¥í•˜ê¸°

íƒ€ì…ì„ ì˜ ì„¤ê³„í•˜ë©´ ì½”ë“œë¥¼ ì§ê´€ì ìœ¼ë¡œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.

íš¨ê³¼ì ìœ¼ë¡œ íƒ€ì…ì„ ì„¤ê³„í•˜ë ¤ë©´ ìœ íš¨í•œ ìƒíƒœë§Œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” íƒ€ì…ì„ ë§Œë“¤ì–´ë‚´ëŠ” ê²ƒì´ ì¢‹ë‹¤.

- ë¬´íš¨í•œ ìƒíƒœë¥¼ í¬í•¨í•˜ë„ë¡ íƒ€ì…ì„¤ê³„í•œ CASE

  ```
  interface State {
    pageText: string;
    isLoading: boolean; // loading ìƒíƒœ
    error?: string; // ì—ëŸ¬ ë©”ì‹œì§€
  }

  function renderPage(state: State) {
    if (state.error) {
      return <div>{state.error}</div>; // â“ğŸ¤·â€â™€ï¸ - isLoadingë„ true, errorë„ trueì´ë©´?
    } else if (state.isLoading) {
      return <div>Loading...</div>;
    }
    return <div>{state.pageText}</div>;
  }
  ```

  isLoadingê³¼ error ë‘ê°€ì§€ ì†ì„±ì´ ì¶©ëŒí•œë‹¤. (ì˜¤ë¥˜ì´ë©´ì„œ ë™ì‹œì— ë¡œë”©ì¤‘ì¼ ìˆ˜ ìˆìŒ == ë¬´íš¨í•œ ìƒíƒœ)

  ì´ëŸ° ë¬´íš¨í•œ ìƒíƒœê°€ ì¡´ì¬í•œë‹¤ë©´ ì œëŒ€ë¡œ êµ¬í˜„í•  ìˆ˜ ì—†ë‹¤.

- ë¬´íš¨í•œ ìƒíƒœ Xì¸ CASE

  ```tsx
  interface RequestPending {
    state: "pending";
  }
  interface RequestSuccess {
    state: "ok";
    pageText: string;
  }
  interface RequestError {
    state: "error";
    error: string;
  }
  type RequestState = RequestPending | RequestSuccess | RequestError; // íƒœê·¸ëœ ìœ ë‹ˆì˜¨ íƒ€ì…

  interface State {
    currentPage: string;
    requests: {
      [url: string]: RequestState; // urlë³„ë¡œ ìš”ì²­ ìƒíƒœë¥¼ ì €ì¥
    };
  }

  function renderPage(state: State) {
    const { currentPage } = state;
    const currentRequest = state.requests[currentPage];
    if (currentRequest.state === "pending") {
      return <div>Loading...</div>;
    } else if (currentRequest.state === "ok") {
      return <div>{currentRequest.pageText}</div>;
    } else {
      return <div>{currentRequest.error}</div>;
    }
  }
  ```

  stateê°€ currentRequest.state í•˜ë‚˜ë¡œ ê´€ë¦¬ë˜ê¸° ë•Œë¬¸ì—, ë¬´íš¨í•œ ìƒíƒœë¥¼ í—ˆìš©í•˜ì§€ ì•Šë„ë¡ ê°œì„ ë˜ì—ˆë‹¤.
  ì½”ë“œê°€ ê¸¸ì–´ì§€ê±°ë‚˜ í‘œí˜„í•˜ê¸° ì–´ë ¤ìš¸ ìˆ˜ ìˆì§€ë§Œ, ì‹œê°„ì„ ì¤„ì¼ ìˆ˜ ìˆê¸°ë•Œë¬¸ì— ì´ ë°©ì‹ì„ ì±„íƒí•´ì•¼í•œë‹¤.

---

## item29. ì‚¬ìš©í•  ë•ŒëŠ” ë„ˆê·¸ëŸ½ê²Œ, ìƒì„±í•  ë•ŒëŠ” ì—„ê²©í•˜ê²Œ

í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ëŠ” íƒ€ì…ì˜ ë²”ìœ„ê°€ ë„“ì–´ë„ ë˜ì§€ë§Œ, ê²°ê³¼ë¥¼ ë°˜í™˜í•  ë•ŒëŠ” íƒ€ì…ì˜ ë²”ìœ„ê°€ ë” êµ¬ì²´ì ì´ì—¬ì•¼ í•œë‹¤.

### ììœ ë¡œìš´ íƒ€ì…ì˜ ë§¤ê°œë³€ìˆ˜ ë°›ê¸°

```tsx
declare function setCamera(camera: CameraOptions): void;
declare function viewportForBounds(bounds: LngLatBounds): CameraOptions;

// ììœ ë¡œìš´ íƒ€ì…ì˜ ë§¤ê°œë³€ìˆ˜
interface CameraOptions {
  center?: LangLat;
  zoom?: number;
  bearing?: number;
  pitch?: number;
}

type LangLat =
  | { lat: number; lng: number }
  | { lon: number; lat: number }
  | [number, number];

type LngLatBounds =
  | { northeast: LangLat; southwest: LangLat }
  | [LangLat, LangLat]
  | [number, number, number, number];
```

- CameraOptionsì˜ ê°’ì€ ëª¨ë‘ ì„ íƒì ì´ì–´ì„œ, ê°’ì„ ê±´ë“œë¦¬ì§€ ì•Šìœ¼ë©° ë‹¤ë¥¸ ê°’ ì„¤ì • ê°€ëŠ¥
- LngLatíƒ€ì…ë„ `{lng, lat}`, `{lon, lat}`, `[lng,lot]` ëª¨ë‘ ë„£ì„ìˆ˜ ìˆì–´ í¸ë¦¬í•¨

### ìƒì„±ë  ë•Œì˜ ë°˜í™˜íƒ€ì…ë„ ë„ˆë¬´ ììœ ë¡­ë‹¤ë©´?

```tsx
declare function viewportForBounds(bounds: LngLatBounds): CameraOptions;

function focusOnFeature(f: Feature) {
  const bounds = calculateBoundingBox(f);
  const camera = viewportForBounds(bounds); // ğŸ‘ ë°˜í™˜ íƒ€ì…ì´ CameraOptionsë¡œ, ë„ˆë¬´ ììœ ë¡œì›€!
  setCamera(camera);

  const {
    center: { lat, lng }, // âŒ Property 'lat' does not exist on type 'LangLat | undefined'
    zoom,
  } = camera;

  zoom; // ğŸ‘ íƒ€ì…ì´ number | undefined
  window.location.search = `?lat=${lat}&lng=${lng}&zoom=${zoom}`;
}
```

- CameraOptionì˜ centerì†ì„±ì´ ì„ íƒì ì´ê¸° ë•Œë¬¸ì—, centerì˜ íƒ€ì…ì´ `LangLat | undefined`
- zoom ë˜í•œ `number|undefined`ë¡œ ì¶”ë¡ ë¨

â‡’ viewportForBoundsì˜ íƒ€ì…ì„ ì–¸ì´ ì‚¬ìš©ë  ë•Œ ë¿ ì•„ë‹ˆë¼ ë§Œë“¤ì–´ì§ˆ ë•Œë„ ë„ˆë¬´ ììœ ë¡œìš´ê²ƒì´ ë¬¸ì œë¥¼ ì¼ìœ¼í‚¨ë‹¤.

â‡’ ë§¤ê°œë³€ìˆ˜ì˜ íƒ€ì…ì´ ë„“ìœ¼ë©´ ì‚¬ìš©í•˜ê¸° í¸ë¦¬í•˜ì§€ë§Œ, ë°˜í™˜íƒ€ì…ì˜ ë²”ìœ„ê°€ ë„“ìœ¼ë©´ ë¶ˆí¸í•˜ë‹¤. ë”°ë¼ì„œ ë°˜í™˜íƒ€ì…ì„ ì—„ê²©í•˜ê²Œ ì ìš©í•´ì•¼í•œë‹¤.

### ìƒì„±ë  ë•Œì˜ ë°˜í™˜íƒ€ì…ì„ ì—„ê²©í•˜ê²Œ ì ìš©í•˜ê¸°

ìœ ë‹ˆì˜¨ íƒ€ì…ì˜ ìš”ì†Œë³„ ë¶„ê¸°ë¥¼ ìœ„í•œ ë°©ë²•ì€, ê¸°ë³¸ í˜•ì‹ì„ ë”°ë¡œ êµ¬ë¶„í•˜ëŠ” ê²ƒì´ë‹¤.

ê¸°ë³¸ í˜•íƒœë¥¼ ë°˜í™˜íƒ€ì…ìœ¼ë¡œ ì“°ê³ , ëŠìŠ¨í•œ í˜•íƒœë¥¼ ë§¤ê°œë³€ìˆ˜íƒ€ì…ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ”ê²Œ ì¢‹ë‹¤.

```tsx
// ì¢Œí‘œì˜ ê¸°ë³¸ í˜•ì‹
interface LngLat {
  lat: number;
  lng: number;
}
// ë” ììœ ë¡œìš´ í˜•ì‹ í¬í•¨í•œ ëŠìŠ¨í•œ íƒ€ì…
type LngLatLike = LngLat | { lon: number; lat: number } | [number, number];
type LngLatBounds =
  | { northeast: LngLatLike; southwest: LngLatLike }
  | [LngLatLike, LngLatLike]
  | [number, number, number, number];
```

- â€œë°°ì—´ê°™ì€ê²ƒâ€ì˜ ì‚¬ìš©ì„ ìœ„í•´ ArrayLikeë¥¼ ì‚¬ìš©í–ˆë˜ ê²ƒ ì²˜ëŸ¼, `LngLat`ê³¼ `LngLatLike`ë¡œ êµ¬ë¶„

  - ğŸ¤–GPTì„¤ëª… - Type & TypeLike
    TypeScriptì—ì„œÂ Typeê³¼Â TypeLikeÂ íŒ¨í„´ì€ íƒ€ì… ì‹œìŠ¤í…œì˜ ì¤‘ìš”í•œ ì„¤ê³„ ê´€ë¡€ì…ë‹ˆë‹¤.

    - **ê¸°ë³¸ê´€ë¡€**
      1. **ê¸°ë³¸ íƒ€ì…Â (Type)**:
         - ì •í™•í•˜ê³ Â ì—„ê²©í•œ êµ¬ì¡°ë¥¼ ê°€ì§„Â íƒ€ì…
         - ëª…í™•í•œ ì†ì„±ê³¼ ë™ì‘ì„ ì •ì˜
         - ì¼ê´€ëœ ì¸í„°í˜ì´ìŠ¤Â ì œê³µ
      2. **ìœ ì—°í•œ íƒ€ì…Â (TypeLike)**:
         - ê¸°ë³¸ íƒ€ì…ì„Â í¬í•¨í•˜ëŠ”Â ìœ ë‹ˆì˜¨ íƒ€ì…
         - ìœ ì‚¬í•˜ì§€ë§Œ êµ¬ì¡°ê°€ ì¡°ê¸ˆ ë‹¤ë¥¸Â ì—¬ëŸ¬ í˜•íƒœ í—ˆìš©
         - ë”Â ë„“ì€ ë²”ìœ„ì˜ ì…ë ¥ê°’ ìˆ˜ìš©
    - **ì£¼ìš” íŠ¹ì§•**
      - **í˜¸í™˜ì„±**:Â TypeLikeëŠ”Â í•­ìƒÂ Typeê³¼ í˜¸í™˜ë¨Â (Typeì€Â TypeLikeì˜ ë¶€ë¶„ì§‘í•©)
      - **ë°©í–¥ì„±**:Â ì—„ê²©í•œ ë‚´ë¶€ êµ¬í˜„Â â†’ ìœ ì—°í•œÂ ì™¸ë¶€ API
      - **ì‚¬ìš©Â ë¬¸ë§¥**: ì£¼ë¡œ í•¨ìˆ˜ ë§¤ê°œë³€ìˆ˜ì—Â TypeLike, ë°˜í™˜ ê°’ì—Â TypeÂ ì‚¬ìš©
    - **ìì£¼Â ì‚¬ìš©ë˜ëŠ”Â ì˜ˆì‹œ**

      1. **Arrayì™€ ArrayLike**

         ```tsx
         //Â Array:Â ëª¨ë“ Â ë°°ì—´Â ë©”ì„œë“œÂ í¬í•¨*
         const arr: Array<number> = [1, 2, 3];
         //Â ArrayLike:Â lengthì™€Â ì¸ë±ìŠ¤Â ì ‘ê·¼ë§ŒÂ ê°€ëŠ¥*
         const arrLike: ArrayLike<number> = { 0: 1, 1: 2, 2: 3, length: 3 };
         ```

      2. **Promiseì™€ PromiseLike**

         ```tsx
         // Promise: ì™„ì „í•œ Promise API
         const p: Promise<string> = new Promise((resolve) => resolve("done"));

         // PromiseLike: then ë©”ì„œë“œë§Œ ìˆìœ¼ë©´ ë¨
         const pLike: PromiseLike<string> = {
           then(onfulfilled) {
             return onfulfilled("done");
           },
         };
         ```

      - ì°¸ê³ : https://jaenny-dev.tistory.com/5

- LngLatBoundsë¥¼ ìƒì„±í•˜ëŠ” ë‹¤ë¥¸ í•¨ìˆ˜ê°€ ìˆë‹¤ë©´, `LngLatBounds`ì™€ `LngLatBoundsLike`ë¡œ êµ¬ë¶„í•˜ë©´ ë¨

```tsx
// Cameraì˜ ê¸°ë³¸ í˜•ì‹
interface Camera {
  center: LngLat;
  zoom: number;
  bearing: number;
  pitch: number;
}
// ë” ììœ ë¡œìš´ í˜•ì‹ì„ í¬í•¨í•œ ëŠìŠ¨í•œ íƒ€ì…
interface CameraOptions extends Omit<Partial<Camera>, "center"> {
  center?: LngLatLike;
}
```

- ì™„ë²½í•˜ê²Œ ì •ì˜ëœ `Camera`ì™€, ë¶€ë¶„ì ìœ¼ë¡œ ì •ì˜ëœ `CameraOptions`ë¥¼ êµ¬ë¶„
  - ğŸ¤–GPTì„¤ëª… - Â CameraOptions extends Omit<Partial<Camera>, "center">
    1. Partial<Camera>
       - Partialì€ íƒ€ì…ì˜ ëª¨ë“ Â ì†ì„±ì„Â ì„ íƒì (optional)ìœ¼ë¡œ ë§Œë“­ë‹ˆë‹¤.
       - CameraÂ ì¸í„°í˜ì´ìŠ¤ì˜ ëª¨ë“  ì†ì„±(center,Â zoom,Â bearing,Â pitch)ì´ ì„ íƒì ì´ ë©ë‹ˆë‹¤.
         ```tsx
         {
         	center?:Â LngLat;
         	zoom?:Â number;
         	bearing?:Â number;
         	pitch?:Â number;
         }
         ```
    2. Omit<Partial<Camera>, "center">
       - Omitì€ íƒ€ì…ì—ì„œÂ íŠ¹ì • ì†ì„±ì„ ì œì™¸í•©ë‹ˆë‹¤.
       - Partial<Camera>ì—ì„œÂ "center"Â ì†ì„±ì„Â ì œì™¸í•©ë‹ˆë‹¤.
         ```tsx
            {
              zoom?: number;
              bearing?: number;
              pitch?: number;
            }
         ```
    3. interface CameraOptions extends Omit<Partial<Camera>, "center">
       - CameraÂ ì¸í„°í˜ì´ìŠ¤ì˜ ëŒ€ë¶€ë¶„ì˜ ì†ì„±ì„ ìƒì†ë°›ë˜,Â centerÂ ì†ì„±ë§Œ íŠ¹ë³„í•˜ê²Œ ì²˜ë¦¬í•©ë‹ˆë‹¤.
       - ëª¨ë“  ì†ì„±ì´Â ì„ íƒì (optional)ì…ë‹ˆë‹¤.
         ```tsx
            {
              center?: LngLatLike;      // ì„ íƒì 
              zoom?: number;            // ì„ íƒì 
              bearing?: number;         // ì„ íƒì 
              pitch?: number;           // ì„ íƒì 
            }
         ```

```tsx
declare function setCamera(camera: CameraOptions): void;
declare function viewportForBounds(bounds: LngLatBounds): Camera; // ğŸ‘ ë°˜í™˜íƒ€ì…ì„ Cameraë¡œ ë” ì—„ê²©í•˜ê²Œ!

function focusOnFeature(f: Feature) {
  const bounds = calculateBoundingBox(f);
  const camera = viewportForBounds(bounds); // âœ… ë°˜í™˜íƒ€ì…ì´ Camera
  setCamera(camera); // Cameraíƒ€ì…ì€ CameraOptionsíƒ€ì…ì— í• ë‹¹ ê°€ëŠ¥

  const {
    center: { lat, lng }, // âœ… ì •ìƒ
    zoom,
  } = camera;
  zoom; // ğŸ‘ íƒ€ì…ì´ number
  window.location.search = `?lat=${lat}&lng=${lng}&zoom=${zoom}`;
}
```

---

## item30. ë¬¸ì„œì— íƒ€ì… ì •ë³´ë¥¼ ì“°ì§€ ì•Šê¸°

ì£¼ì„ì— ë³€ìˆ˜ëª…ê³¼ íƒ€ì…ì •ë³´ë¥¼ ì ì§€ ë§ì•„ì•¼ í•œë‹¤. íƒ€ì… ì •ë³´ì— ëª¨ìˆœì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

- ì£¼ì„

  ```tsx
  /**
   * í˜ì´ì§€ì— ë”°ë¥¸ ì „ê²½ìƒ‰ ë°˜í™˜
   * ë§¤ê°œë³€ìˆ˜ëŠ” 0ë˜ëŠ” 1 // ì•„ë‹˜
   * ë§¤ê°œë³€ìˆ˜ê°€ ì—†ì„ë• í‘œì¤€ ì „ê²½ìƒ‰ ë¬¸ìì—´ ë°˜í™˜ // ì•„ë‹˜
   */
  function getForegroundColor(page: string) {
    return page == "login" ? { r: 255, g: 255, b: 255 } : { r: 0, g: 0, b: 0 };
  }
  ```

  - ê°•ì œí•˜ì§€ ì•ŠëŠ” ì´ìƒ ì£¼ì„ì€ ì½”ë“œì™€ ë™ê¸°í™”ë˜ì§€ ì•ŠëŠ”ë‹¤.

- ì½”ë“œë¡œ ì‘ì„±
  ```tsx
  /**
   * í˜ì´ì§€ì— ë”°ë¥¸ ì „ê²½ìƒ‰ ë°˜í™˜
   */
  function getForegroundColor(page: string): Color {
    return page == "login" ? { r: 255, g: 255, b: 255 } : { r: 0, g: 0, b: 0 };
  }
  ```
  - íƒ€ì…êµ¬ë¬¸ì€ ì»´íŒŒì¼ëŸ¬ê°€ ì²´í¬í•´ì£¼ê¸° ë•Œë¬¸ì— êµ¬í˜„ì²´ì™€ ì •í•©ì„±ì— ì–´ê¸‹ë‚˜ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ ì½”ë“œê°€ ì¶”í›„ ë³€ê²½ë˜ë”ë¼ë„ ì •ë³´ê°€ ë™ê¸°í™”ë˜ê¸°ë•Œë¬¸ì— ìœ ì§€ë³´ìˆ˜ì— ìš©ì´í•˜ë‹¤.

+) ë³€ìˆ˜ëª…ì—ë„ íƒ€ì…ì„ ë„£ì§€ ì•ŠëŠ”ê²Œ ì¢‹ë‹¤. (`ageNum`âŒ, `age: number`âœ…)

---

## item31. íƒ€ì… ì£¼ë³€ì— nullê°’ ë°°ì¹˜í•˜ê¸°

### í•¨ìˆ˜ ë°˜í™˜ íƒ€ì… ì „ì²´ê°€ Nullì´ê±°ë‚˜ Nullì´ ì•„ë‹ˆê²Œ ë§Œë“¤ê¸°

ì–´ë–¤ ë³€ìˆ˜ê°€ nullì´ ë  ìˆ˜ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ëŠ” íƒ€ì…ë§Œìœ¼ë¡œ ëª…í™•í•˜ê²Œ í‘œí—Œí•˜ê¸° ì–´ë µë‹¤.

ê°’ì´ ì „ë¶€ nullì´ê±°ë‚˜, ì „ë¶€ nullì´ ì•„ë‹Œ ê²½ìš°ë¡œ ë¶„ëª…íˆ êµ¬ë¶„ëœë‹¤ë©´ ê°’ì´ ì„ì—¬ìˆì„ ë•Œ ë³´ë‹¤ ë‹¤ë£¨ê¸° ì‰½ë‹¤.

ë”°ë¼ì„œ ë°˜í™˜íƒ€ì…ì„ ë” í° ê°ì²´ë¡œ ë§Œë“¤ê³  ë°˜í™˜íƒ€ì… ì „ì²´ê°€ nullì´ê±°ë‚˜ nullì´ ì•„ë‹ˆê²Œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.

- ë°˜í™˜íƒ€ì…ì— ê°’ì´ ì„ì—¬ìˆëŠ” ê²½ìš°

  ```tsx
  function extent(nums: number[]) {
    let min, max;
    for (const num of nums) {
      if (!min) {
        min = num;
        max = num;
      } else {
        min = Math.min(min, num);
        max = Math.max(max, num); // âŒ maxì˜ íƒ€ì…ì´ number | undefined -> undefinedì¼ë•Œ ì˜¤ë¥˜ ë°œìƒí•¨
      }
    }
    return [min, max]; // ğŸ‘ ë°˜í™˜íƒ€ì…ì´ (number | undefined)[]
  }

  const [min, max] = extent([0, 1, 2]);
  const span = max - min; // âŒ max/minì´ undefinedì¼ë•Œ ì˜¤ë¥˜ ë°œìƒí•¨
  ```

  ë°˜í™˜íƒ€ì…ì— numberì™€ undefinedê°€ ì„ì—¬ìˆê²Œëœë‹¤. ì´ëŸ´ ê²½ìš° ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê³³ ì—ì„œ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.

- ë°˜í™˜íƒ€ì…ì´ nullì´ê±°ë‚˜ nullì´ ì•„ë‹˜

  ```tsx
  function extent2(nums: number[]) {
    let result: [number, number] | null = null;
    for (const num of nums) {
      if (!result) {
        result = [num, num];
      } else {
        result = [Math.min(result[0], num), Math.max(result[1], num)];
      }
    }
    return result; // ğŸ‘ ë°˜í™˜íƒ€ì…ì´ [number, number] | null
  }

  const [min2, max2] = extent2([0, 1, 2])!; // nullì•„ë‹˜ ë‹¨ì–¸(!) ì„ ì‚¬ìš©í•˜ì—¬ null ì œì™¸í•˜ê¸°
  const span2 = max2 - min2; *// âœ… ì˜¤ë¥˜ ë°œìƒí•˜ì§€ ì•ŠìŒ*
  ```

  ë°˜í™˜íƒ€ì…ì´ nullì´ê±°ë‚˜ nullì´ ì•„ë‹ˆê²Œ ë˜ì–´, ê²°ê³¼ê°’ìœ¼ë¡œ ë‹¨ì¼ ê°ì²´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### í´ë˜ìŠ¤ì—ì„œ ê°’ì´ ëª¨ë‘ ì¤€ë¹„ë˜ì—ˆì„ ë•Œ ê°’ ìƒì„±í•˜ê¸°

- ë°ì´í„°ë¥¼ ë”°ë¡œ update

  ```tsx
  class UserPosts {
    user: UserInfo | null;
    posts: Post[] | null;
    constructor() {
      this.user = null;
      this.posts = null;
    }

    async init(userId: string) {
      return Promise.all([
        async () => (this.user = await fetchUser(userId)),
        async () => (this.posts = await fetchPosts(userId)), // ğŸ‘ userì™€ postsê°€ ë”°ë¡œ ì—…ë°ì´íŠ¸ ë¨
      ]);
    }

    getUserName() {
      // ğŸ‘ userì™€ posts ë‘˜ë‹¤ nullì´ê±°ë‚˜ nullì•„ ì•„ë‹ ìˆ˜ ìˆìŒ (ê²½ìš°ì˜ ìˆ˜ 4ê°€ì§€)
      return this.user.name;
    }
  }
  ```

  ì†ì„±ê°’ ë‘ê°€ì§€ê°€ nullì´ê±°ë‚˜ nullì´ ì•„ë‹ ìˆ˜ ìˆì–´, ì´ 4ê°€ì§€ì˜ ê²½ìš°ì˜ ìˆ˜ê°€ ì¡´ì¬í•œë‹¤.

  ì´ ì†ì„±ê°’ì˜ ë¶ˆí™•ì‹¤ì„±ì€ nullì²´í¬ë¥¼ ë‚œë¬´í•˜ê²Œ ë§Œë“¤ì–´ ë²„ê·¸ë¥¼ ì–‘ì‚°í•˜ê²Œ ëœë‹¤.

- ë°ì´í„°ê°€ ëª¨ë‘ ì¤€ë¹„ë˜ì—ˆì„ ë•Œ update

  ```tsx
  class UserPosts {
    user: UserInfo | null;
    posts: Post[] | null;
    constructor() {
      this.user = null;
      this.posts = null;
    }

    async init(userId: string): Promise<UserPosts> {
      const [user, posts] = await Promise.all([
        fetchUser(userId),
        fetchPosts(userId),
      ]);
      return new UserPosts(user, posts); // ğŸ‘ userì™€ postsê°€ ë™ì‹œì— ì—…ë°ì´íŠ¸ ë¨
    }

    getUserName() {
      // ğŸ‘ userì™€ postsê°€ ëª¨ë‘ nullì´ ì•„ë‹ˆë¼ëŠ” ê²ƒì„ í™•ì‹ í•  ìˆ˜ ìˆìŒ
      return this.user.name;
    }
  }
  ```

  í•„ìš”í•œ ë°ì´í„°ë¥¼ í•œë²ˆì— ì—…ë°ì´íŠ¸í•˜ê²Œ ë˜ë©´ ëª¨ë‘ nullì´ ì•„ë‹ˆê²Œ ëœë‹¤. ì´ ê²½ìš°ì—” ë©”ì„œë“œ ì‘ì„±ì´ ë” ì‰¬ì›Œì§„ë‹¤.

---

## item32. ìœ ë‹ˆì˜¨ì˜ ì¸í„°í˜ì´ìŠ¤ë³´ë‹¤ëŠ” ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ ì‚¬ìš©í•˜ê¸°

ìœ ë‹ˆì˜¨ì˜ ì¸í„°í˜ì´ìŠ¤ë³´ë‹¤ëŠ”, ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ì´ ë” ì •í™•í•˜ê³  TSê°€ ì´í•´í•˜ê¸° ì¢‹ë‹¤.

### ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ìœ¼ë¡œ ì†ì„±ê°„ì˜ ê´€ê³„ ëª…í™•íˆ í•˜ê¸°

- ìœ ë‹ˆì˜¨ì˜ ì¸í„°í˜ì´ìŠ¤

  ```tsx
  interface Layer {
    type: "fill" | "line" | "point";
    layout: FillLayout | LineLayout | PointLayout;
    paint: FillPaint | LinePaint | PointPaint;
  }
  ```

  ë§Œì•½ layoutì´ LineLayoutì´ë©´ì„œ, painê°€ FillPaintì¸ê²ƒì€ ë§ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤.

  ì´ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì˜¤ë¥˜ë¥¼ ì¼ìœ¼í‚¤ê³  ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹¤ë£¨ê¸° ì–´ë µê²Œ ë§Œë“ ë‹¤.

- ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨
  ```tsx
  interface FillLayer extends Layer {
    type: "fill";
    layout: FillLayout;
    paint: FillPaint;
  }
  interface LineLayer extends Layer {
    type: "line";
    layout: LineLayout;
    paint: LinePaint;
  }
  interface PointLayer extends Layer {
    type: "point";
    layout: PointLayout;
    paint: PointPaint;
  }
  type Layer = FillLayer | LineLayer | PointLayer;
  ```
  ìœ íš¨í•œ ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë‹ˆì˜¨ìœ¼ë¡œ Layerë¥¼ ì •ì˜í•˜ë©´ ì†ì„±ë“¤ì´ ì˜ëª»ëœ ì¡°í•©ìœ¼ë¡œ ì„ì´ëŠ” ê²½ìš°ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆê³ , ìœ íš¨í•œ ìƒíƒœë§Œì„ í‘œê¸°í•  ìˆ˜ ìˆë‹¤.
  ì´ëŸ¬í•œ íƒ€ì…ì •ì˜ë¥¼ í†µí•´ ì†ì„±ê´€ì˜ ê´€ê³„ë¥¼ ë” ëª…í™•íˆ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

---

## item33. string íƒ€ì…ë³´ë‹¤ ë” êµ¬ì²´ì ì¸ íƒ€ì… ì‚¬ìš©í•˜ê¸°

### ë¬¸ìì—´ì„ ë‚¨ë°œí•˜ì—¬ ì„ ì–¸ëœ ì½”ë“œ í”¼í•˜ê¸°

string íƒ€ì…ì€ â€˜Xâ€™ë¶€í„° ëª¨ë¹„ë”• ì „ì²´ë‚´ìš© ê¹Œì§€, ê·¸ ë²”ìœ„ê°€ ë§¤ìš° ë„“ë‹¤. ë‹¨ìˆœíˆ stringì„ ì´ìš©í•˜ê¸°ë³´ë‹¤ëŠ” ë” ì¢ì€ íƒ€ì…ì´ ì ì ˆí•˜ì§€ ì•Šì„ì§€ ê³ ë¯¼í•´ë³´ì•„ì•¼ í•œë‹¤.

- ë¬¸ìì—´ì„ ë‚¨ë°œí•˜ì—¬ ì„ ì–¸ëœ ì˜ˆì‹œ (Stringly Typed)

  ```tsx
  interface Album {
    artist: string;
    title: string;
    releaseDate: string; // "2024-01-01"
    recordingType: string; // "live" í˜¹ì€ "studio"
  }
  const album: Album = {
    artist: "The Beatles",
    title: "Abbey Road",
    releaseDate: "September 26, 1969", // â—ï¸ í˜•ì‹ì´ ë‹¤ë¦„ - TSì—ì„œ ì¡ì„ ìˆ˜ ì—†ìŒ
    recordingType: "Studio", // â—ï¸ "S" ì˜¤íƒ€ - TSì—ì„œ ì¡ì„ ìˆ˜ ì—†ìŒ
  };
  ```

  í¬ë§·ì´ ì •í•´ì ¸ìˆëŠ” releaseDateì™€ â€œliveâ€í˜¹ì€ â€œstudioâ€ê°’ë§Œ í—ˆìš©í•˜ëŠ” recordingTypeê¹Œì§€ stringìœ¼ë¡œ ì§€ì •ë˜ì—ˆë‹¤.

  ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš°ì—ëŠ” ì˜ë„ì— ë§ì§€ ì•ŠëŠ” ê°’ì´ ë“¤ì–´ì™€ë„ ì²´í¬í•  ìˆ˜ ì—†ë‹¤.

- íƒ€ì…ì˜ ë²”ìœ„ë¥¼ ì¢íŒ ì˜ˆì‹œ
  ```tsx
  type RecordingType = "live" | "studio"; // ğŸ‘ ë‘ê°œì˜ ìœ ë‹ˆì˜¨íƒ€ì…ìœ¼ë¡œ ì œí•œ
  interface Album {
    artist: string;
    title: string;
    releaseDate: Date; // ğŸ‘ Dateí˜•ì‹ìœ¼ë¡œ ì œí•œ
    recordingType: RecordingType;
  }
  const album: Album = {
    artist: "The Beatles",
    title: "Abbey Road",
    releaseDate: new Date("1969-09-26"),
    recordingType: "studio",
  };
  ```
  íƒ€ì…ì„ Dateì™€ íŠ¹ì • ë¬¸ìì—´ì˜ Unioníƒ€ì…ìœ¼ë¡œ ì œí•œí•˜ì˜€ë‹¤. ì´ë ‡ê²Œ ë°”ê¾¸ë©´ TSëŠ” ì˜¤ë¥˜ë¥¼ ë” ì„¸ë°€í•˜ê²Œ ì²´í¬í•  ìˆ˜ ìˆë‹¤.

### string íƒ€ì… ë²”ìœ„ë¥¼ ì¢ê²Œ í•œ ì¥ì 

1ï¸âƒ£Â íƒ€ì…ì„ ëª…ì‹œì ìœ¼ë¡œ ì •ì˜í•˜ì—¬ ë‹¤ë¥¸ ê³³ìœ¼ë¡œ ê°’ì´ ì „ë‹¬ë˜ì–´ë„ íƒ€ì…ì •ë³´ê°€ ìœ ì§€ëœë‹¤.

```tsx
function getAlbumsOfType(recordingType: string): Album[] {
  // í˜¸ì¶œí•˜ëŠ” ê³³ì—ì„œ stringíƒ€ì…ì´ì–´ì•¼ í•œë‹¤ëŠ”ê²ƒ ì™¸ì— ë‹¤ë¥¸ ì •ë³´ê°€ ì—†ìŒ
  return albums.filter((album) => album.recordingType === recordingType);
}
```

"live" í˜¹ì€ "studio"ë¼ëŠ” ì •ë³´ëŠ” Albumì˜ ì •ì˜ ì•ˆì— ìˆ¨ì–´ìˆê³ , í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ìª½ì—ì„œëŠ” recordingTypeì— ëŒ€í•´ ëª°ë¼ë„ ëœë‹¤.

2ï¸âƒ£Â íƒ€ì…ì„ ëª…ì‹œì ìœ¼ë¡œ ì •ì˜í•˜ê³  í•´ë‹¹ íƒ€ì…ì˜ ì˜ë¯¸ë¥¼ ì„¤ëª…í•˜ëŠ” ì£¼ì„ì„ ë¶™ì—¬ë„£ì„ ìˆ˜ ìˆë‹¤.

```tsx
/** ì´ ë…¹ìŒì€ ì–´ë–¤ í™˜ê²½ì—ì„œ ì´ë£¨ì–´ì¡ŒëŠ”ì§€? */
type RecordingType = "live" | "studio";

function getAlbumsOfType(recordingType: RecordingType): Album[] {
  // type RecordingType = "live" | "studio" - ì´ ë…¹ìŒì€ ì–´ë–¤ í™˜ê²½ì—ì„œ ì´ë£¨ì–´ì¡ŒëŠ”ì§€? (ğŸ‘ ì£¼ì„ í™•ì¸ ê°€ëŠ¥!)
  return albums.filter((album) => album.recordingType === recordingType);
}
```

íƒ€ì…ì„ `RecordingType`ìœ¼ë¡œ ë°”ê¾¸ë©´, í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ìª½ì—ì„œ "live" | "studio" ë¼ëŠ” ì •ë³´ì™€ ì£¼ì„ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

3ï¸âƒ£Â keyofì—°ì‚°ìë¡œ ë” ì„¸ë°€í•˜ê²Œ ê°ì²´ì˜ ì†ì„± ì²´í¬ê°€ ê°€ëŠ¥í•˜ë‹¤.

- anyì‚¬ìš©

  ```tsx
  // ì–´ë–¤ ë°°ì—´ì—ì„œ í•œ í•„ë“œì˜ ê°’ë§Œ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜
  function pluck(records: any[], key: string): any[] {
    return records.map((record) => record[key]);
  }
  ```

  ì—ëŸ¬ê°€ ë‚˜ì§„ ì•Šì§€ë§Œ, keyì— ëª¨ë“  stringíƒ€ì…ì´ í—ˆìš©ë˜ê³ , ë¦¬í„´íƒ€ì…ë„ anyíƒ€ì…ì´ì–´ì„œ ì •ë°€í•˜ì§€ ëª»í•˜ë‹¤.

- ì œë„¤ë¦­íƒ€ì… & keyof ì‚¬ìš©

  ```tsx
  //  keyof T == "artist" | "title" | "releaseDate" | "recordingType"
  function pluck<T>(records: T[], key: keyof T): T[keyof T][] {
    return records.map((record) => record[key]);
  }

  // releaseDates: (string | Date)[]  - ğŸ‘ Albumê°ì²´ì—ì„œ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ëª¨ë“  íƒ€ì…
  const releaseDates = pluck(albums, "releaseDate");
  ```

  keyê°€ stringíƒ€ì…ì—ì„œ keyof Tíƒ€ì…ìœ¼ë¡œ ë°”ë€Œì—ˆê¸° ë•Œë¬¸ì—, Album í‚¤ê°’ë“¤ì˜ Unionìœ¼ë¡œ ì œí•œëœë‹¤.

  í•˜ì§€ë§Œ ë°˜í™˜íƒ€ì…ì„ ì°ì–´ë³´ë©´, Albumê°ì²´ ë‚´ì—ì„œ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ëª¨ë“  ê°’ì˜ íƒ€ì…ì´ ì°í˜€ë‚˜ì˜¤ê³ , ì´ ë˜í•œ ë²”ìœ„ê°€ ë„ˆë¬´ ë„“ì–´ì„œ ì ì ˆí•˜ì§€ ì•Šë‹¤.

- ë‘ë²ˆì§¸ ì œë„¤ë¦­ K ë„ì…

  ```tsx
  function pluck<T, K extends keyof T>(records: T[], key: K): T[K][] {
    return records.map((record) => record[key]);
  }

  // ğŸ‘ releaseDates: Date[]
  const releaseDates = pluck(albums, "releaseDate");
  ```

  keyof Të¥¼ extendsí•œ Kì œë„¤ë¦­ì„ ë„ì…í•˜ë©´, ë°˜í™˜íƒ€ì…ì˜ ê°’ì„ ì ì ˆí•˜ê²Œ ì¤„ì¼ ìˆ˜ ìˆë‹¤.
  ì´ë ‡ê²Œ ê°ì²´ ì†ì„±ì´ë¦„ì„ í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ” ê²½ìš°ì—” keyofë¥¼ í™œìš©í•œ ì œë„¤ë¦­ì„ ì‚¬ìš©í•´ì•¼í•œë‹¤.

---

## item34. ë¶€ì •í™•í•œ íƒ€ì…ë³´ë‹¤ëŠ” ë¯¸ì™„ì„± íƒ€ì…ì„ ì‚¬ìš©í•˜ê¸°

ì¼ë°˜ì ìœ¼ë¡  íƒ€ì…ì´ êµ¬ì²´ì ì¼ìˆ˜ë¡ ë²„ê·¸ë¥¼ ë” ë§ì´ ì¡ê³  TSê°€ ì œê³µí•˜ëŠ” ë„êµ¬ë¥¼ í™œìš©í•  ìˆ˜ ìˆì§€ë§Œ, íƒ€ì… ì„ ì–¸ì˜ ì •ë°€ë„ë¥¼ ë†’ì´ëŠ” ì¼ì€ ì£¼ì˜ë¥¼ ê¸°ìš¸ì—¬ì•¼ í•œë‹¤.

ì˜ëª»ëœ íƒ€ì…ì€ ì°¨ë¼ë¦¬ íƒ€ì…ì´ ì—†ëŠ” ê²ƒ ë³´ë‹¤ ëª»í•  ìˆ˜ ìˆë‹¤!

- ìˆ˜ì • ì „ - ë¯¸ì™„ì„±ì˜ íƒ€ì…

  ```tsx
  interface Point {
    type: "Point";
    coordinates: number[];
  }
  interface LineString {
    type: "LineString";
    coordinates: number[][];
  }
  interface Polygon {
    type: "Polygon";
    coordinates: number[][][];
  }
  type Geometry = Point | LineString | Polygon;
  ```

  ì´ ì¢Œí‘œì— ì“°ì´ëŠ” number[]ê°€ ì¶”ìƒì ì´ë¼, ì´ coordinatesë¥¼ ê²½ë„ì™€ ìœ„ë„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” íŠœí”Œíƒ€ì… ì„ ì–¸ìœ¼ë¡œ ìˆ˜ì •í•œë‹¤.

- ìˆ˜ì • í›„ - ë¶€ì •í™•í•œ íƒ€ì…
  ```tsx
  type GeoPosition = [number, number];
  interface Point {
    type: "Point";
    coordinates: GeoPosition;
  }
  ```
  ê²½ë„ì™€ ìœ„ë„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” numberì˜ íŠœí”Œíƒ€ì…ìœ¼ë¡œ ì§€ì •í•˜ì—¬ ë” ì •í™•í•œ í‘œí˜„ì´ ê°€ëŠ¥í•´ì¡Œì§€ë§Œ,
  ë§Œì•½ ì„¸ë²ˆì§¸ ìš”ì†Œì¸ ê³ ë„ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‚¬ìš©ìê°€ ìˆì—ˆë‹¤ë©´ ì´ëŠ” ì—ëŸ¬ë¥¼ ìœ ë°œì‹œí‚¨ë‹¤.
  ì´ë ‡ê²Œ íƒ€ì…ì„ ì„¸ë°€í•˜ê²Œ ë§Œë“¤ê³ ì í•˜ëŠ” ì‹œë„ê°€ ê³¼í•´ì§€ë©´ íƒ€ì…ì„ ì˜¤íˆë ¤ ë¶€ì •í™•í•˜ê²Œ ë§Œë“¤ìˆ˜ ìˆë‹¤.

<aside>
ğŸ’¡

- íƒ€ì…ì„ ì •ì œí•  ë•Œì—ëŠ” ë¶ˆì¾Œí•œ ê³¨ì§œê¸°ë¥¼ í”¼í•´ì•¼í•œë‹¤. ì–´ì„¤í”„ê²Œ ì™„ë²½ì„ ì¶”êµ¬í•˜ë‹¤ê°€ ì˜¤íˆë ¤ ì—­íš¨ê³¼ê°€ ë‚  ìˆ˜ ìˆë‹¤.
- íƒ€ì…ì„ ì •í™•í•˜ê²Œ ëª¨ë¸ë§í•  ìˆ˜ ì—†ë‹¤ í•´ë„, ë¶€ì •í™•í•˜ê²Œ ëª¨ë¸ë§ í•´ì„  ì•ˆëœë‹¤.
</aside>

---

## item35. ë°ì´í„°ê°€ ì•„ë‹Œ, apiì™€ ëª…ì„¸ë¥¼ ë³´ê³  íƒ€ì… ë§Œë“¤ê¸°

### ëª…ì„¸ ì°¸ê³ í•˜ê¸°

íƒ€ì…ì„ ìƒì„±í•  ë•Œ, ì˜ˆì‹œ ë°ì´í„°ê°€ ì•„ë‹ˆë¼ ëª…ì„¸ë¥¼ ì°¸ê³ í•˜ì—¬ íƒ€ì…ì„ ìƒì„±í•´ì•¼í•œë‹¤.

```tsx
interface BoundingBox {
  lat: [number, number];
  lng: [number, number];
}
import { Feature } from "geojson";

function calculateBoundingBox(f: Feature): BoundingBox | null {
  let box: BoundingBox | null = null;

  const helper = (coords: any[]) => {
    // ...
  };

  const { geometry } = f;
  if (geometry) {
    helper(geometry.coordinates); // âŒ Property 'coordinates' does not exist on type 'Geometry'.
  }

  return box;
}
```

ìœ„ ì˜ˆì‹œëŠ” geometryì— coordinates ì†ì„±ì´ ìˆë‹¤ê³  ê°€ì •í•œ ê²ƒì´ ë¬¸ì œë‹¤.
ë‹¤ë¥¸ ë„í˜•ê³¼ ë‹¤ë¥´ê²Œ GeometryCollectionì—ëŠ” coordinates ì†ì„±ì´ ì—†ë‹¤.

```tsx
function calculateBoundingBox(f: Feature): BoundingBox | null {
  let box: BoundingBox | null = null;

  const helper = (coords: any[]) => {
    // ...
  };

  const { geometry } = f;
  if (geometry) {
    if (geometry.type === "GeometryCollection") {
      // GeometryCollectionì„ ëª…ì‹œì ìœ¼ë¡œ ì°¨ë‹¨í•˜ê¸°
      throw new Error("GeometryCollection is not supported");
    } else {
      helper(geometry.coordinates); // âœ… ì •ìƒ
    }
  }

  return box;
}
```

ë‹¤ìŒê³¼ ê°™ì´ GeometryCollectionì„ ëª…ì‹œì ìœ¼ë¡œ ì°¨ë‹¨í•˜ì—¬ í•´ê²° ê°€ëŠ¥í•˜ë‹¤.

```tsx
function calculateBoundingBox(f: Feature): BoundingBox | null {
  let box: BoundingBox | null = null;
  const helper = (coords: any[]) => {
    // ...
  };

  const geometryHelper = (geometry: Geometry) => {
    // ğŸ‘ ëª¨ë“  íƒ€ì… ì§€ì›í•˜ëŠ” í—¬í¼í•¨ìˆ˜
    if (geometry.type === "GeometryCollection") {
      geometry.geometries.forEach(geometryHelper);
    } else {
      helper(geometry.coordinates); // OK
    }
  };
  const { geometry } = f;
  if (geometry) {
    geometryHelper(geometry);
  }

  return box;
}
```

ìœ„ì™€ ê°™ì´ GeometryCollection íƒ€ì…ì„ ì°¨ë‹¨í•˜ê¸° ë³´ë‹¤ëŠ” ëª¨ë“  íƒ€ì…ì„ ì§€ì›í•˜ëŠ” ê²ƒì´ ë” ì¢‹ì€ ë°©ë²•ì´ê¸° ë•Œë¬¸ì— ì¡°ê±´ì„ ë¶„ê¸°í•´ì„œ í—¬í¼ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ëª¨ë“  íƒ€ì…ì„ ì§€ì›í•  ìˆ˜ ìˆë‹¤.

<aside>
ğŸ’¡

ì§ì ‘ ì‘ì„±í•œ íƒ€ì… ì„ ì–¸ì—ëŠ” GeometryCollectionê°™ì€ ì˜ˆì™¸ìƒí™©ë„ í¬í•¨ë˜ì§€ ì•Šê³ , ì™„ë²½í•˜ì§€ ì•Šë‹¤.

í•˜ì§€ë§Œ ëª…ì„¸ ê¸°ë°˜ìœ¼ë¡œ íƒ€ì…ì„ ì‘ì„±í•˜ë©´ ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë“  ê°’ì— ëŒ€í•˜ì—¬ ì‘ë™í•œë‹¤ëŠ” í™•ì‹ ì„ ê°€ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ëª…ì„¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ íƒ€ì…ì„ ìƒì„±í•´ì•¼í•œë‹¤.

</aside>

### GraphQL

GraphQLì˜ ì¥ì ì€ íŠ¹ì • ì¿¼ë¦¬ì— ëŒ€í•´ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì…ì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.

íƒ€ì…ì€ ë‹¨ í•˜ë‚˜ì˜ ì›ì²œ ì •ë³´ì¸ GraphQL ìŠ¤í‚¤ë§ˆë¡œ ë¶€í„° ìƒì„±ì´ ë˜ê¸° ë•Œë¬¸ì—, íƒ€ì…ê³¼ ì‹¤ì œ ê°’ì´ í•­ìƒ ì¼ì²´í•œë‹¤.

ë§Œì•½ ëª…ì„¸ë‚˜ ê³µì‹ ìŠ¤í‚¤ë§ˆê°€ ì—†ë‹¤ë©´, ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ íƒ€ì…ì„ ìƒì„±í•´ì•¼í•˜ê³ , quicktypeê°™ì€ ë„êµ¬ë¥¼ ì´ìš©í•  ìˆ˜ë„ ìˆë‹¤. í•˜ì§€ë§Œ ìƒì„±ëœ íƒ€ì…ì´ ì‹¤ì œ ë°ì´í„°ì™€ ì¼ì¹˜í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì£¼ì˜í•´ì•¼í•œë‹¤.
https://app.quicktype.io/

---

## item36. í•´ë‹¹ ë¶„ì•¼ì˜ ìš©ì–´ë¡œ íƒ€ì… ì´ë¦„ ì§“ê¸°

ì—„ì„ ëœ íƒ€ì…, ì†ì„±, ë³€ìˆ˜ì˜ ì´ë¦„ì€ ì˜ë„ë¥¼ ëª…í™•íˆ í•˜ê³  ì½”ë“œì™€ íƒ€ì…ì˜ ì¶”ìƒí™” ìˆ˜ì¤€ì„ ë†’ì—¬ì¤€ë‹¤.

ë°˜ë©´ì— ì˜ëª» ì„ íƒí•œ íƒ€ì… ì´ë¦„ì€ ì½”ë“œì˜ ì˜ë„ë¥¼ ì™œê³¡í•˜ê³  ì˜ëª»ëœ ê°œë…ì„ ì‹¬ì–´ì¤„ ìˆ˜ ìˆë‹¤.

- ì˜ëª»ëœ ì˜ˆì‹œ

  ```tsx
  interface Animal {
    name: string;
    endangered: boolean;
    habitat: string;
  }
  ```

  - nameì´ ë„ˆë¬´ ì¼ë°˜ì ì¸ ìš©ì–´ë¼ ëª…í™•í•˜ì§€ ì•Šë‹¤.
  - endangered ì†ì„±ì´ booleaníƒ€ì…ì´ë¼ ì• ë§¤í•œ ì˜ì—­ì´ ìƒê¸´ë‹¤ (ì´ë¯¸ ë©¸ì¢…ëœ ë™ë¬¼ì€ true?)
  - habitatì€ ì†ì„± ë²”ìœ„ê°€ ë„ˆë¬´ ë„“ì€ stringíƒ€ì…ì´ë‹¤.

- ê°œì„ 
  ```tsx
  interface Animal {
    commonName: string;
    genus: string;
    species: string;
    status: ConservationStatus;
    climates: KoppenClimate;
  }
  type ConservationStatus = "EX" | "EW" | "CR" | "EN" | "VU" | "NT" | "LC";
  type KoppenClimate = "Af" | "Am" | "As" | "Aw";
  ```
  - nameì„ commonName, genus, species ë“± êµ¬ì²´ì ì¸ ìš©ì–´ë¡œ ëŒ€ì²´í–ˆë‹¤.
  - endangeredëŠ” IUCN í‘œì¤€ ë¶„ë¥˜ì²´ê³„ì¸ ConservationStatusíƒ€ì…ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆë‹¤.
  - habitatì€ ê¸°í›„ë¥¼ ëœ»í•˜ëŠ” climatesë¡œ ë³€ê²½ë˜ì—ˆê³ , ì¾¨íœ ê¸°í›„ë¶„ë¥˜ë¥¼ ì‚¬ìš©í–ˆë‹¤.

<aside>
ğŸ’¡

- ì£¼ì œë¥¼ ëª…í™•íˆ ì„¤ëª…í•˜ê¸° ìœ„í•´ ì „ë¬¸ìš©ì–´ë‚˜ ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ìš©ì–´ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
- ë™ì¼í•œ ì˜ë¯¸ë¥¼ ë‚˜íƒ€ë‚¼ ë•ŒëŠ” ê°™ì€ ìš©ì–´ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
- ëª¨í˜¸í•˜ê³  ì˜ë¯¸ ì—†ëŠ” ì´ë¦„ì€ í”¼í•´ì•¼ í•œë‹¤ (data, info, item, object, entity ë“±)
- ì´ë¦„ì„ ì§€ì„ ë•ŒëŠ” í¬í•¨ëœ ë‚´ìš©ì´ë‚˜ ê³„ì‚°ë°©ì‹ì´ ì•„ë‹Œ, ë°ì´í„° ìì²´ê°€ ë¬´ì—‡ì¸ì§€ë¥¼ ê³ ë ¤í•´ì•¼ í•œë‹¤.
</aside>

---

## item37. ê³µì‹ ëª…ì¹­ì—ëŠ” ìƒí‘œë¥¼ ë¶™ì´ê¸°
